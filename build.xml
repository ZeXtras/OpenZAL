<project name="ZAL" basedir="." default="zal-all">


  <taskdef name="preprocess" classname="com.objfac.prebop.ant.PreprocessorTask">
    <classpath>
      <pathelement location="../build-commons/prebop/preprocessor.jar"/>
    </classpath>
  </taskdef>
  <taskdef resource="net/sf/antcontrib/antlib.xml">
    <classpath>
      <pathelement location="../build-commons/ant-contrib/ant-contrib-1.0b3.jar"/>
    </classpath>
  </taskdef>

  <description>Zimbra Abstraction Layer</description>

  <property name="src" location="src/java"/>
  <property name="itbase" location="tests/java/"/>

  <property name="COMPILER_ARGS" value="-Xlint"/>

  <path id="libraries">
      <fileset dir="../build-commons/lib" >
          <include name="*.jar"/>
      </fileset>
      <fileset dir="../build-commons/guice" >
          <include name="*.jar"/>
      </fileset>
  </path>

  <target name="init">
    <tstamp />
    <echo> Building ZAL version 1.6.0 </echo>
    <exec executable="./gen_buildinfo.sh" failonerror="true" />
  </target>




<path id="zimbra-jars-6.0.7">
    <fileset dir="../build-commons/zimbra-jars/zimbra-jars-6.0.7/" >
        <include name="*.jar"/>
    </fileset>
</path>

<target name="zal-6.0.7"  description="create jar" depends="init">

  <var name="tmpsrc"  value="tmpsrc/6.0.7/jar/" />
  <var name="build" value="build/6.0.7/jar/" />
  <var name="dist"  value="dist/6.0.7/"/>

  <mkdir dir="${tmpsrc}"/>
  <mkdir dir="${build}"/>
  <mkdir dir="${dist}"/>

  <echo>Creating zal JAR for zimbra 6.0.7 ...</echo>

  <echo>Preprocessing...</echo>
  <preprocess indir="${src}" outdir="${tmpsrc}" out="replace" >
    <var name="ZimbraVersion" value="6.0.7" />
    <var name="MajorZimbraVersion"  value="6" />
    <var name="MiddleZimbraVersion" value="0" />
    <var name="MinorZimbraVersion"  value="7" />
    <filetype commentend="*/" commentbegin="/*" extensions="java"/>
  </preprocess>

  <javac includeantruntime="false" debug="true" debuglevel="lines,vars,source" srcdir="${tmpsrc}/" destdir="${build}/" target="1.6" source="1.6">
    <classpath>
      <path refid="zimbra-jars-6.0.7" />
      <path refid="libraries" />
      <pathelement path="${build}" />
    </classpath>
   <compilerarg value="-Xlint:none" />
  </javac>
  <delete dir="${tmpsrc}/"/>

  <jar jarfile="${dist}/zal.jar.unsigned" compress="false">
    <manifest>
      <attribute name="Specification-Title" value="Zimbra Abstraction Layer" />
      <attribute name="Specification-Version" value="1.6.0" />
      <attribute name="Specification-Vendor" value="ZeXtras" />
      <attribute name="Implementation-Version" value="6.0.7" />
      <attribute name="Created-By" value="ZeXtras" />
      <attribute name="Zimbra-Extension-Class" value="org.openzal.zal.extension.ZalEntrypoint" />
    </manifest>
    <fileset dir="${build}" />
  </jar>

  <java dir="." fork="true" classname="org.openzal.zal.tools.ChecksumWriter">
    <classpath>
      <pathelement location="${dist}/zal.jar.unsigned" />
    </classpath>
    <arg value="${dist}/zal.jar" />
  </java>

  <delete file="${dist}/zal.jar.unsigned" />
</target>


<target name="zal-6.0.7-itbase"  description="create test jar" depends="init">

  <var name="itbase_tmpsrc"  value="tmpsrc/6.0.7/itbase/" />
  <var name="itbase_build" value="build/6.0.7/itbase/" />
  <var name="dist"  value="dist/6.0.7/"/>

  <mkdir dir="${itbase_tmpsrc}"/>
  <mkdir dir="${itbase_build}"/>

  <echo>Preprocessing ZAL test library...</echo>
  <preprocess indir="${itbase}" outdir="${itbase_tmpsrc}" out="replace" >
    <var name="ZimbraVersion" value="6.0.7" />
    <var name="MajorZimbraVersion"  value="6" />
    <var name="MiddleZimbraVersion" value="0" />
    <var name="MinorZimbraVersion"  value="7" />
    <filetype commentend="*/" commentbegin="/*" extensions="java"/>
  </preprocess>

  <javac includeantruntime="false" debug="true" debuglevel="lines,vars,source" srcdir="${itbase_tmpsrc}" destdir="${itbase_build}/" target="1.6" source="1.6">
    <classpath>
      <path refid="zimbra-jars-6.0.7" />
      <path refid="libraries" />
      <pathelement location="${dist}/zal.jar" />
      <pathelement location="../dist/zextras.jar" />
    </classpath>
   <compilerarg value="-Xlint:none" />
  </javac>

  <delete dir="${itbase_tmpsrc}/"/>

  <jar jarfile="${dist}/zal-itbase.jar" compress="false">
    <manifest>
      <attribute name="Specification-Title" value="Zimbra Abstraction Layer" />
      <attribute name="Specification-Version" value="1.6.0" />
      <attribute name="Specification-Vendor" value="ZeXtras" />
      <attribute name="Implementation-Version" value="6.0.7" />
      <attribute name="Created-By" value="ZeXtras" />
    </manifest>
    <fileset dir="${itbase_build}" />
  </jar>
</target>


<path id="zimbra-jars-6.0.8">
    <fileset dir="../build-commons/zimbra-jars/zimbra-jars-6.0.8/" >
        <include name="*.jar"/>
    </fileset>
</path>

<target name="zal-6.0.8"  description="create jar" depends="init">

  <var name="tmpsrc"  value="tmpsrc/6.0.8/jar/" />
  <var name="build" value="build/6.0.8/jar/" />
  <var name="dist"  value="dist/6.0.8/"/>

  <mkdir dir="${tmpsrc}"/>
  <mkdir dir="${build}"/>
  <mkdir dir="${dist}"/>

  <echo>Creating zal JAR for zimbra 6.0.8 ...</echo>

  <echo>Preprocessing...</echo>
  <preprocess indir="${src}" outdir="${tmpsrc}" out="replace" >
    <var name="ZimbraVersion" value="6.0.8" />
    <var name="MajorZimbraVersion"  value="6" />
    <var name="MiddleZimbraVersion" value="0" />
    <var name="MinorZimbraVersion"  value="8" />
    <filetype commentend="*/" commentbegin="/*" extensions="java"/>
  </preprocess>

  <javac includeantruntime="false" debug="true" debuglevel="lines,vars,source" srcdir="${tmpsrc}/" destdir="${build}/" target="1.6" source="1.6">
    <classpath>
      <path refid="zimbra-jars-6.0.8" />
      <path refid="libraries" />
      <pathelement path="${build}" />
    </classpath>
   <compilerarg value="-Xlint:none" />
  </javac>
  <delete dir="${tmpsrc}/"/>

  <jar jarfile="${dist}/zal.jar.unsigned" compress="false">
    <manifest>
      <attribute name="Specification-Title" value="Zimbra Abstraction Layer" />
      <attribute name="Specification-Version" value="1.6.0" />
      <attribute name="Specification-Vendor" value="ZeXtras" />
      <attribute name="Implementation-Version" value="6.0.8" />
      <attribute name="Created-By" value="ZeXtras" />
      <attribute name="Zimbra-Extension-Class" value="org.openzal.zal.extension.ZalEntrypoint" />
    </manifest>
    <fileset dir="${build}" />
  </jar>

  <java dir="." fork="true" classname="org.openzal.zal.tools.ChecksumWriter">
    <classpath>
      <pathelement location="${dist}/zal.jar.unsigned" />
    </classpath>
    <arg value="${dist}/zal.jar" />
  </java>

  <delete file="${dist}/zal.jar.unsigned" />
</target>


<target name="zal-6.0.8-itbase"  description="create test jar" depends="init">

  <var name="itbase_tmpsrc"  value="tmpsrc/6.0.8/itbase/" />
  <var name="itbase_build" value="build/6.0.8/itbase/" />
  <var name="dist"  value="dist/6.0.8/"/>

  <mkdir dir="${itbase_tmpsrc}"/>
  <mkdir dir="${itbase_build}"/>

  <echo>Preprocessing ZAL test library...</echo>
  <preprocess indir="${itbase}" outdir="${itbase_tmpsrc}" out="replace" >
    <var name="ZimbraVersion" value="6.0.8" />
    <var name="MajorZimbraVersion"  value="6" />
    <var name="MiddleZimbraVersion" value="0" />
    <var name="MinorZimbraVersion"  value="8" />
    <filetype commentend="*/" commentbegin="/*" extensions="java"/>
  </preprocess>

  <javac includeantruntime="false" debug="true" debuglevel="lines,vars,source" srcdir="${itbase_tmpsrc}" destdir="${itbase_build}/" target="1.6" source="1.6">
    <classpath>
      <path refid="zimbra-jars-6.0.8" />
      <path refid="libraries" />
      <pathelement location="${dist}/zal.jar" />
      <pathelement location="../dist/zextras.jar" />
    </classpath>
   <compilerarg value="-Xlint:none" />
  </javac>

  <delete dir="${itbase_tmpsrc}/"/>

  <jar jarfile="${dist}/zal-itbase.jar" compress="false">
    <manifest>
      <attribute name="Specification-Title" value="Zimbra Abstraction Layer" />
      <attribute name="Specification-Version" value="1.6.0" />
      <attribute name="Specification-Vendor" value="ZeXtras" />
      <attribute name="Implementation-Version" value="6.0.8" />
      <attribute name="Created-By" value="ZeXtras" />
    </manifest>
    <fileset dir="${itbase_build}" />
  </jar>
</target>


<path id="zimbra-jars-6.0.9">
    <fileset dir="../build-commons/zimbra-jars/zimbra-jars-6.0.9/" >
        <include name="*.jar"/>
    </fileset>
</path>

<target name="zal-6.0.9"  description="create jar" depends="init">

  <var name="tmpsrc"  value="tmpsrc/6.0.9/jar/" />
  <var name="build" value="build/6.0.9/jar/" />
  <var name="dist"  value="dist/6.0.9/"/>

  <mkdir dir="${tmpsrc}"/>
  <mkdir dir="${build}"/>
  <mkdir dir="${dist}"/>

  <echo>Creating zal JAR for zimbra 6.0.9 ...</echo>

  <echo>Preprocessing...</echo>
  <preprocess indir="${src}" outdir="${tmpsrc}" out="replace" >
    <var name="ZimbraVersion" value="6.0.9" />
    <var name="MajorZimbraVersion"  value="6" />
    <var name="MiddleZimbraVersion" value="0" />
    <var name="MinorZimbraVersion"  value="9" />
    <filetype commentend="*/" commentbegin="/*" extensions="java"/>
  </preprocess>

  <javac includeantruntime="false" debug="true" debuglevel="lines,vars,source" srcdir="${tmpsrc}/" destdir="${build}/" target="1.6" source="1.6">
    <classpath>
      <path refid="zimbra-jars-6.0.9" />
      <path refid="libraries" />
      <pathelement path="${build}" />
    </classpath>
   <compilerarg value="-Xlint:none" />
  </javac>
  <delete dir="${tmpsrc}/"/>

  <jar jarfile="${dist}/zal.jar.unsigned" compress="false">
    <manifest>
      <attribute name="Specification-Title" value="Zimbra Abstraction Layer" />
      <attribute name="Specification-Version" value="1.6.0" />
      <attribute name="Specification-Vendor" value="ZeXtras" />
      <attribute name="Implementation-Version" value="6.0.9" />
      <attribute name="Created-By" value="ZeXtras" />
      <attribute name="Zimbra-Extension-Class" value="org.openzal.zal.extension.ZalEntrypoint" />
    </manifest>
    <fileset dir="${build}" />
  </jar>

  <java dir="." fork="true" classname="org.openzal.zal.tools.ChecksumWriter">
    <classpath>
      <pathelement location="${dist}/zal.jar.unsigned" />
    </classpath>
    <arg value="${dist}/zal.jar" />
  </java>

  <delete file="${dist}/zal.jar.unsigned" />
</target>


<target name="zal-6.0.9-itbase"  description="create test jar" depends="init">

  <var name="itbase_tmpsrc"  value="tmpsrc/6.0.9/itbase/" />
  <var name="itbase_build" value="build/6.0.9/itbase/" />
  <var name="dist"  value="dist/6.0.9/"/>

  <mkdir dir="${itbase_tmpsrc}"/>
  <mkdir dir="${itbase_build}"/>

  <echo>Preprocessing ZAL test library...</echo>
  <preprocess indir="${itbase}" outdir="${itbase_tmpsrc}" out="replace" >
    <var name="ZimbraVersion" value="6.0.9" />
    <var name="MajorZimbraVersion"  value="6" />
    <var name="MiddleZimbraVersion" value="0" />
    <var name="MinorZimbraVersion"  value="9" />
    <filetype commentend="*/" commentbegin="/*" extensions="java"/>
  </preprocess>

  <javac includeantruntime="false" debug="true" debuglevel="lines,vars,source" srcdir="${itbase_tmpsrc}" destdir="${itbase_build}/" target="1.6" source="1.6">
    <classpath>
      <path refid="zimbra-jars-6.0.9" />
      <path refid="libraries" />
      <pathelement location="${dist}/zal.jar" />
      <pathelement location="../dist/zextras.jar" />
    </classpath>
   <compilerarg value="-Xlint:none" />
  </javac>

  <delete dir="${itbase_tmpsrc}/"/>

  <jar jarfile="${dist}/zal-itbase.jar" compress="false">
    <manifest>
      <attribute name="Specification-Title" value="Zimbra Abstraction Layer" />
      <attribute name="Specification-Version" value="1.6.0" />
      <attribute name="Specification-Vendor" value="ZeXtras" />
      <attribute name="Implementation-Version" value="6.0.9" />
      <attribute name="Created-By" value="ZeXtras" />
    </manifest>
    <fileset dir="${itbase_build}" />
  </jar>
</target>


<path id="zimbra-jars-6.0.10">
    <fileset dir="../build-commons/zimbra-jars/zimbra-jars-6.0.10/" >
        <include name="*.jar"/>
    </fileset>
</path>

<target name="zal-6.0.10"  description="create jar" depends="init">

  <var name="tmpsrc"  value="tmpsrc/6.0.10/jar/" />
  <var name="build" value="build/6.0.10/jar/" />
  <var name="dist"  value="dist/6.0.10/"/>

  <mkdir dir="${tmpsrc}"/>
  <mkdir dir="${build}"/>
  <mkdir dir="${dist}"/>

  <echo>Creating zal JAR for zimbra 6.0.10 ...</echo>

  <echo>Preprocessing...</echo>
  <preprocess indir="${src}" outdir="${tmpsrc}" out="replace" >
    <var name="ZimbraVersion" value="6.0.10" />
    <var name="MajorZimbraVersion"  value="6" />
    <var name="MiddleZimbraVersion" value="0" />
    <var name="MinorZimbraVersion"  value="10" />
    <filetype commentend="*/" commentbegin="/*" extensions="java"/>
  </preprocess>

  <javac includeantruntime="false" debug="true" debuglevel="lines,vars,source" srcdir="${tmpsrc}/" destdir="${build}/" target="1.6" source="1.6">
    <classpath>
      <path refid="zimbra-jars-6.0.10" />
      <path refid="libraries" />
      <pathelement path="${build}" />
    </classpath>
   <compilerarg value="-Xlint:none" />
  </javac>
  <delete dir="${tmpsrc}/"/>

  <jar jarfile="${dist}/zal.jar.unsigned" compress="false">
    <manifest>
      <attribute name="Specification-Title" value="Zimbra Abstraction Layer" />
      <attribute name="Specification-Version" value="1.6.0" />
      <attribute name="Specification-Vendor" value="ZeXtras" />
      <attribute name="Implementation-Version" value="6.0.10" />
      <attribute name="Created-By" value="ZeXtras" />
      <attribute name="Zimbra-Extension-Class" value="org.openzal.zal.extension.ZalEntrypoint" />
    </manifest>
    <fileset dir="${build}" />
  </jar>

  <java dir="." fork="true" classname="org.openzal.zal.tools.ChecksumWriter">
    <classpath>
      <pathelement location="${dist}/zal.jar.unsigned" />
    </classpath>
    <arg value="${dist}/zal.jar" />
  </java>

  <delete file="${dist}/zal.jar.unsigned" />
</target>


<target name="zal-6.0.10-itbase"  description="create test jar" depends="init">

  <var name="itbase_tmpsrc"  value="tmpsrc/6.0.10/itbase/" />
  <var name="itbase_build" value="build/6.0.10/itbase/" />
  <var name="dist"  value="dist/6.0.10/"/>

  <mkdir dir="${itbase_tmpsrc}"/>
  <mkdir dir="${itbase_build}"/>

  <echo>Preprocessing ZAL test library...</echo>
  <preprocess indir="${itbase}" outdir="${itbase_tmpsrc}" out="replace" >
    <var name="ZimbraVersion" value="6.0.10" />
    <var name="MajorZimbraVersion"  value="6" />
    <var name="MiddleZimbraVersion" value="0" />
    <var name="MinorZimbraVersion"  value="10" />
    <filetype commentend="*/" commentbegin="/*" extensions="java"/>
  </preprocess>

  <javac includeantruntime="false" debug="true" debuglevel="lines,vars,source" srcdir="${itbase_tmpsrc}" destdir="${itbase_build}/" target="1.6" source="1.6">
    <classpath>
      <path refid="zimbra-jars-6.0.10" />
      <path refid="libraries" />
      <pathelement location="${dist}/zal.jar" />
      <pathelement location="../dist/zextras.jar" />
    </classpath>
   <compilerarg value="-Xlint:none" />
  </javac>

  <delete dir="${itbase_tmpsrc}/"/>

  <jar jarfile="${dist}/zal-itbase.jar" compress="false">
    <manifest>
      <attribute name="Specification-Title" value="Zimbra Abstraction Layer" />
      <attribute name="Specification-Version" value="1.6.0" />
      <attribute name="Specification-Vendor" value="ZeXtras" />
      <attribute name="Implementation-Version" value="6.0.10" />
      <attribute name="Created-By" value="ZeXtras" />
    </manifest>
    <fileset dir="${itbase_build}" />
  </jar>
</target>


<path id="zimbra-jars-6.0.12">
    <fileset dir="../build-commons/zimbra-jars/zimbra-jars-6.0.12/" >
        <include name="*.jar"/>
    </fileset>
</path>

<target name="zal-6.0.12"  description="create jar" depends="init">

  <var name="tmpsrc"  value="tmpsrc/6.0.12/jar/" />
  <var name="build" value="build/6.0.12/jar/" />
  <var name="dist"  value="dist/6.0.12/"/>

  <mkdir dir="${tmpsrc}"/>
  <mkdir dir="${build}"/>
  <mkdir dir="${dist}"/>

  <echo>Creating zal JAR for zimbra 6.0.12 ...</echo>

  <echo>Preprocessing...</echo>
  <preprocess indir="${src}" outdir="${tmpsrc}" out="replace" >
    <var name="ZimbraVersion" value="6.0.12" />
    <var name="MajorZimbraVersion"  value="6" />
    <var name="MiddleZimbraVersion" value="0" />
    <var name="MinorZimbraVersion"  value="12" />
    <filetype commentend="*/" commentbegin="/*" extensions="java"/>
  </preprocess>

  <javac includeantruntime="false" debug="true" debuglevel="lines,vars,source" srcdir="${tmpsrc}/" destdir="${build}/" target="1.6" source="1.6">
    <classpath>
      <path refid="zimbra-jars-6.0.12" />
      <path refid="libraries" />
      <pathelement path="${build}" />
    </classpath>
   <compilerarg value="-Xlint:none" />
  </javac>
  <delete dir="${tmpsrc}/"/>

  <jar jarfile="${dist}/zal.jar.unsigned" compress="false">
    <manifest>
      <attribute name="Specification-Title" value="Zimbra Abstraction Layer" />
      <attribute name="Specification-Version" value="1.6.0" />
      <attribute name="Specification-Vendor" value="ZeXtras" />
      <attribute name="Implementation-Version" value="6.0.12" />
      <attribute name="Created-By" value="ZeXtras" />
      <attribute name="Zimbra-Extension-Class" value="org.openzal.zal.extension.ZalEntrypoint" />
    </manifest>
    <fileset dir="${build}" />
  </jar>

  <java dir="." fork="true" classname="org.openzal.zal.tools.ChecksumWriter">
    <classpath>
      <pathelement location="${dist}/zal.jar.unsigned" />
    </classpath>
    <arg value="${dist}/zal.jar" />
  </java>

  <delete file="${dist}/zal.jar.unsigned" />
</target>


<target name="zal-6.0.12-itbase"  description="create test jar" depends="init">

  <var name="itbase_tmpsrc"  value="tmpsrc/6.0.12/itbase/" />
  <var name="itbase_build" value="build/6.0.12/itbase/" />
  <var name="dist"  value="dist/6.0.12/"/>

  <mkdir dir="${itbase_tmpsrc}"/>
  <mkdir dir="${itbase_build}"/>

  <echo>Preprocessing ZAL test library...</echo>
  <preprocess indir="${itbase}" outdir="${itbase_tmpsrc}" out="replace" >
    <var name="ZimbraVersion" value="6.0.12" />
    <var name="MajorZimbraVersion"  value="6" />
    <var name="MiddleZimbraVersion" value="0" />
    <var name="MinorZimbraVersion"  value="12" />
    <filetype commentend="*/" commentbegin="/*" extensions="java"/>
  </preprocess>

  <javac includeantruntime="false" debug="true" debuglevel="lines,vars,source" srcdir="${itbase_tmpsrc}" destdir="${itbase_build}/" target="1.6" source="1.6">
    <classpath>
      <path refid="zimbra-jars-6.0.12" />
      <path refid="libraries" />
      <pathelement location="${dist}/zal.jar" />
      <pathelement location="../dist/zextras.jar" />
    </classpath>
   <compilerarg value="-Xlint:none" />
  </javac>

  <delete dir="${itbase_tmpsrc}/"/>

  <jar jarfile="${dist}/zal-itbase.jar" compress="false">
    <manifest>
      <attribute name="Specification-Title" value="Zimbra Abstraction Layer" />
      <attribute name="Specification-Version" value="1.6.0" />
      <attribute name="Specification-Vendor" value="ZeXtras" />
      <attribute name="Implementation-Version" value="6.0.12" />
      <attribute name="Created-By" value="ZeXtras" />
    </manifest>
    <fileset dir="${itbase_build}" />
  </jar>
</target>


<path id="zimbra-jars-6.0.13">
    <fileset dir="../build-commons/zimbra-jars/zimbra-jars-6.0.13/" >
        <include name="*.jar"/>
    </fileset>
</path>

<target name="zal-6.0.13"  description="create jar" depends="init">

  <var name="tmpsrc"  value="tmpsrc/6.0.13/jar/" />
  <var name="build" value="build/6.0.13/jar/" />
  <var name="dist"  value="dist/6.0.13/"/>

  <mkdir dir="${tmpsrc}"/>
  <mkdir dir="${build}"/>
  <mkdir dir="${dist}"/>

  <echo>Creating zal JAR for zimbra 6.0.13 ...</echo>

  <echo>Preprocessing...</echo>
  <preprocess indir="${src}" outdir="${tmpsrc}" out="replace" >
    <var name="ZimbraVersion" value="6.0.13" />
    <var name="MajorZimbraVersion"  value="6" />
    <var name="MiddleZimbraVersion" value="0" />
    <var name="MinorZimbraVersion"  value="13" />
    <filetype commentend="*/" commentbegin="/*" extensions="java"/>
  </preprocess>

  <javac includeantruntime="false" debug="true" debuglevel="lines,vars,source" srcdir="${tmpsrc}/" destdir="${build}/" target="1.6" source="1.6">
    <classpath>
      <path refid="zimbra-jars-6.0.13" />
      <path refid="libraries" />
      <pathelement path="${build}" />
    </classpath>
   <compilerarg value="-Xlint:none" />
  </javac>
  <delete dir="${tmpsrc}/"/>

  <jar jarfile="${dist}/zal.jar.unsigned" compress="false">
    <manifest>
      <attribute name="Specification-Title" value="Zimbra Abstraction Layer" />
      <attribute name="Specification-Version" value="1.6.0" />
      <attribute name="Specification-Vendor" value="ZeXtras" />
      <attribute name="Implementation-Version" value="6.0.13" />
      <attribute name="Created-By" value="ZeXtras" />
      <attribute name="Zimbra-Extension-Class" value="org.openzal.zal.extension.ZalEntrypoint" />
    </manifest>
    <fileset dir="${build}" />
  </jar>

  <java dir="." fork="true" classname="org.openzal.zal.tools.ChecksumWriter">
    <classpath>
      <pathelement location="${dist}/zal.jar.unsigned" />
    </classpath>
    <arg value="${dist}/zal.jar" />
  </java>

  <delete file="${dist}/zal.jar.unsigned" />
</target>


<target name="zal-6.0.13-itbase"  description="create test jar" depends="init">

  <var name="itbase_tmpsrc"  value="tmpsrc/6.0.13/itbase/" />
  <var name="itbase_build" value="build/6.0.13/itbase/" />
  <var name="dist"  value="dist/6.0.13/"/>

  <mkdir dir="${itbase_tmpsrc}"/>
  <mkdir dir="${itbase_build}"/>

  <echo>Preprocessing ZAL test library...</echo>
  <preprocess indir="${itbase}" outdir="${itbase_tmpsrc}" out="replace" >
    <var name="ZimbraVersion" value="6.0.13" />
    <var name="MajorZimbraVersion"  value="6" />
    <var name="MiddleZimbraVersion" value="0" />
    <var name="MinorZimbraVersion"  value="13" />
    <filetype commentend="*/" commentbegin="/*" extensions="java"/>
  </preprocess>

  <javac includeantruntime="false" debug="true" debuglevel="lines,vars,source" srcdir="${itbase_tmpsrc}" destdir="${itbase_build}/" target="1.6" source="1.6">
    <classpath>
      <path refid="zimbra-jars-6.0.13" />
      <path refid="libraries" />
      <pathelement location="${dist}/zal.jar" />
      <pathelement location="../dist/zextras.jar" />
    </classpath>
   <compilerarg value="-Xlint:none" />
  </javac>

  <delete dir="${itbase_tmpsrc}/"/>

  <jar jarfile="${dist}/zal-itbase.jar" compress="false">
    <manifest>
      <attribute name="Specification-Title" value="Zimbra Abstraction Layer" />
      <attribute name="Specification-Version" value="1.6.0" />
      <attribute name="Specification-Vendor" value="ZeXtras" />
      <attribute name="Implementation-Version" value="6.0.13" />
      <attribute name="Created-By" value="ZeXtras" />
    </manifest>
    <fileset dir="${itbase_build}" />
  </jar>
</target>


<path id="zimbra-jars-6.0.14">
    <fileset dir="../build-commons/zimbra-jars/zimbra-jars-6.0.14/" >
        <include name="*.jar"/>
    </fileset>
</path>

<target name="zal-6.0.14"  description="create jar" depends="init">

  <var name="tmpsrc"  value="tmpsrc/6.0.14/jar/" />
  <var name="build" value="build/6.0.14/jar/" />
  <var name="dist"  value="dist/6.0.14/"/>

  <mkdir dir="${tmpsrc}"/>
  <mkdir dir="${build}"/>
  <mkdir dir="${dist}"/>

  <echo>Creating zal JAR for zimbra 6.0.14 ...</echo>

  <echo>Preprocessing...</echo>
  <preprocess indir="${src}" outdir="${tmpsrc}" out="replace" >
    <var name="ZimbraVersion" value="6.0.14" />
    <var name="MajorZimbraVersion"  value="6" />
    <var name="MiddleZimbraVersion" value="0" />
    <var name="MinorZimbraVersion"  value="14" />
    <filetype commentend="*/" commentbegin="/*" extensions="java"/>
  </preprocess>

  <javac includeantruntime="false" debug="true" debuglevel="lines,vars,source" srcdir="${tmpsrc}/" destdir="${build}/" target="1.6" source="1.6">
    <classpath>
      <path refid="zimbra-jars-6.0.14" />
      <path refid="libraries" />
      <pathelement path="${build}" />
    </classpath>
   <compilerarg value="-Xlint:none" />
  </javac>
  <delete dir="${tmpsrc}/"/>

  <jar jarfile="${dist}/zal.jar.unsigned" compress="false">
    <manifest>
      <attribute name="Specification-Title" value="Zimbra Abstraction Layer" />
      <attribute name="Specification-Version" value="1.6.0" />
      <attribute name="Specification-Vendor" value="ZeXtras" />
      <attribute name="Implementation-Version" value="6.0.14" />
      <attribute name="Created-By" value="ZeXtras" />
      <attribute name="Zimbra-Extension-Class" value="org.openzal.zal.extension.ZalEntrypoint" />
    </manifest>
    <fileset dir="${build}" />
  </jar>

  <java dir="." fork="true" classname="org.openzal.zal.tools.ChecksumWriter">
    <classpath>
      <pathelement location="${dist}/zal.jar.unsigned" />
    </classpath>
    <arg value="${dist}/zal.jar" />
  </java>

  <delete file="${dist}/zal.jar.unsigned" />
</target>


<target name="zal-6.0.14-itbase"  description="create test jar" depends="init">

  <var name="itbase_tmpsrc"  value="tmpsrc/6.0.14/itbase/" />
  <var name="itbase_build" value="build/6.0.14/itbase/" />
  <var name="dist"  value="dist/6.0.14/"/>

  <mkdir dir="${itbase_tmpsrc}"/>
  <mkdir dir="${itbase_build}"/>

  <echo>Preprocessing ZAL test library...</echo>
  <preprocess indir="${itbase}" outdir="${itbase_tmpsrc}" out="replace" >
    <var name="ZimbraVersion" value="6.0.14" />
    <var name="MajorZimbraVersion"  value="6" />
    <var name="MiddleZimbraVersion" value="0" />
    <var name="MinorZimbraVersion"  value="14" />
    <filetype commentend="*/" commentbegin="/*" extensions="java"/>
  </preprocess>

  <javac includeantruntime="false" debug="true" debuglevel="lines,vars,source" srcdir="${itbase_tmpsrc}" destdir="${itbase_build}/" target="1.6" source="1.6">
    <classpath>
      <path refid="zimbra-jars-6.0.14" />
      <path refid="libraries" />
      <pathelement location="${dist}/zal.jar" />
      <pathelement location="../dist/zextras.jar" />
    </classpath>
   <compilerarg value="-Xlint:none" />
  </javac>

  <delete dir="${itbase_tmpsrc}/"/>

  <jar jarfile="${dist}/zal-itbase.jar" compress="false">
    <manifest>
      <attribute name="Specification-Title" value="Zimbra Abstraction Layer" />
      <attribute name="Specification-Version" value="1.6.0" />
      <attribute name="Specification-Vendor" value="ZeXtras" />
      <attribute name="Implementation-Version" value="6.0.14" />
      <attribute name="Created-By" value="ZeXtras" />
    </manifest>
    <fileset dir="${itbase_build}" />
  </jar>
</target>


<path id="zimbra-jars-6.0.15">
    <fileset dir="../build-commons/zimbra-jars/zimbra-jars-6.0.15/" >
        <include name="*.jar"/>
    </fileset>
</path>

<target name="zal-6.0.15"  description="create jar" depends="init">

  <var name="tmpsrc"  value="tmpsrc/6.0.15/jar/" />
  <var name="build" value="build/6.0.15/jar/" />
  <var name="dist"  value="dist/6.0.15/"/>

  <mkdir dir="${tmpsrc}"/>
  <mkdir dir="${build}"/>
  <mkdir dir="${dist}"/>

  <echo>Creating zal JAR for zimbra 6.0.15 ...</echo>

  <echo>Preprocessing...</echo>
  <preprocess indir="${src}" outdir="${tmpsrc}" out="replace" >
    <var name="ZimbraVersion" value="6.0.15" />
    <var name="MajorZimbraVersion"  value="6" />
    <var name="MiddleZimbraVersion" value="0" />
    <var name="MinorZimbraVersion"  value="15" />
    <filetype commentend="*/" commentbegin="/*" extensions="java"/>
  </preprocess>

  <javac includeantruntime="false" debug="true" debuglevel="lines,vars,source" srcdir="${tmpsrc}/" destdir="${build}/" target="1.6" source="1.6">
    <classpath>
      <path refid="zimbra-jars-6.0.15" />
      <path refid="libraries" />
      <pathelement path="${build}" />
    </classpath>
   <compilerarg value="-Xlint:none" />
  </javac>
  <delete dir="${tmpsrc}/"/>

  <jar jarfile="${dist}/zal.jar.unsigned" compress="false">
    <manifest>
      <attribute name="Specification-Title" value="Zimbra Abstraction Layer" />
      <attribute name="Specification-Version" value="1.6.0" />
      <attribute name="Specification-Vendor" value="ZeXtras" />
      <attribute name="Implementation-Version" value="6.0.15" />
      <attribute name="Created-By" value="ZeXtras" />
      <attribute name="Zimbra-Extension-Class" value="org.openzal.zal.extension.ZalEntrypoint" />
    </manifest>
    <fileset dir="${build}" />
  </jar>

  <java dir="." fork="true" classname="org.openzal.zal.tools.ChecksumWriter">
    <classpath>
      <pathelement location="${dist}/zal.jar.unsigned" />
    </classpath>
    <arg value="${dist}/zal.jar" />
  </java>

  <delete file="${dist}/zal.jar.unsigned" />
</target>


<target name="zal-6.0.15-itbase"  description="create test jar" depends="init">

  <var name="itbase_tmpsrc"  value="tmpsrc/6.0.15/itbase/" />
  <var name="itbase_build" value="build/6.0.15/itbase/" />
  <var name="dist"  value="dist/6.0.15/"/>

  <mkdir dir="${itbase_tmpsrc}"/>
  <mkdir dir="${itbase_build}"/>

  <echo>Preprocessing ZAL test library...</echo>
  <preprocess indir="${itbase}" outdir="${itbase_tmpsrc}" out="replace" >
    <var name="ZimbraVersion" value="6.0.15" />
    <var name="MajorZimbraVersion"  value="6" />
    <var name="MiddleZimbraVersion" value="0" />
    <var name="MinorZimbraVersion"  value="15" />
    <filetype commentend="*/" commentbegin="/*" extensions="java"/>
  </preprocess>

  <javac includeantruntime="false" debug="true" debuglevel="lines,vars,source" srcdir="${itbase_tmpsrc}" destdir="${itbase_build}/" target="1.6" source="1.6">
    <classpath>
      <path refid="zimbra-jars-6.0.15" />
      <path refid="libraries" />
      <pathelement location="${dist}/zal.jar" />
      <pathelement location="../dist/zextras.jar" />
    </classpath>
   <compilerarg value="-Xlint:none" />
  </javac>

  <delete dir="${itbase_tmpsrc}/"/>

  <jar jarfile="${dist}/zal-itbase.jar" compress="false">
    <manifest>
      <attribute name="Specification-Title" value="Zimbra Abstraction Layer" />
      <attribute name="Specification-Version" value="1.6.0" />
      <attribute name="Specification-Vendor" value="ZeXtras" />
      <attribute name="Implementation-Version" value="6.0.15" />
      <attribute name="Created-By" value="ZeXtras" />
    </manifest>
    <fileset dir="${itbase_build}" />
  </jar>
</target>


<path id="zimbra-jars-6.0.16">
    <fileset dir="../build-commons/zimbra-jars/zimbra-jars-6.0.16/" >
        <include name="*.jar"/>
    </fileset>
</path>

<target name="zal-6.0.16"  description="create jar" depends="init">

  <var name="tmpsrc"  value="tmpsrc/6.0.16/jar/" />
  <var name="build" value="build/6.0.16/jar/" />
  <var name="dist"  value="dist/6.0.16/"/>

  <mkdir dir="${tmpsrc}"/>
  <mkdir dir="${build}"/>
  <mkdir dir="${dist}"/>

  <echo>Creating zal JAR for zimbra 6.0.16 ...</echo>

  <echo>Preprocessing...</echo>
  <preprocess indir="${src}" outdir="${tmpsrc}" out="replace" >
    <var name="ZimbraVersion" value="6.0.16" />
    <var name="MajorZimbraVersion"  value="6" />
    <var name="MiddleZimbraVersion" value="0" />
    <var name="MinorZimbraVersion"  value="16" />
    <filetype commentend="*/" commentbegin="/*" extensions="java"/>
  </preprocess>

  <javac includeantruntime="false" debug="true" debuglevel="lines,vars,source" srcdir="${tmpsrc}/" destdir="${build}/" target="1.6" source="1.6">
    <classpath>
      <path refid="zimbra-jars-6.0.16" />
      <path refid="libraries" />
      <pathelement path="${build}" />
    </classpath>
   <compilerarg value="-Xlint:none" />
  </javac>
  <delete dir="${tmpsrc}/"/>

  <jar jarfile="${dist}/zal.jar.unsigned" compress="false">
    <manifest>
      <attribute name="Specification-Title" value="Zimbra Abstraction Layer" />
      <attribute name="Specification-Version" value="1.6.0" />
      <attribute name="Specification-Vendor" value="ZeXtras" />
      <attribute name="Implementation-Version" value="6.0.16" />
      <attribute name="Created-By" value="ZeXtras" />
      <attribute name="Zimbra-Extension-Class" value="org.openzal.zal.extension.ZalEntrypoint" />
    </manifest>
    <fileset dir="${build}" />
  </jar>

  <java dir="." fork="true" classname="org.openzal.zal.tools.ChecksumWriter">
    <classpath>
      <pathelement location="${dist}/zal.jar.unsigned" />
    </classpath>
    <arg value="${dist}/zal.jar" />
  </java>

  <delete file="${dist}/zal.jar.unsigned" />
</target>


<target name="zal-6.0.16-itbase"  description="create test jar" depends="init">

  <var name="itbase_tmpsrc"  value="tmpsrc/6.0.16/itbase/" />
  <var name="itbase_build" value="build/6.0.16/itbase/" />
  <var name="dist"  value="dist/6.0.16/"/>

  <mkdir dir="${itbase_tmpsrc}"/>
  <mkdir dir="${itbase_build}"/>

  <echo>Preprocessing ZAL test library...</echo>
  <preprocess indir="${itbase}" outdir="${itbase_tmpsrc}" out="replace" >
    <var name="ZimbraVersion" value="6.0.16" />
    <var name="MajorZimbraVersion"  value="6" />
    <var name="MiddleZimbraVersion" value="0" />
    <var name="MinorZimbraVersion"  value="16" />
    <filetype commentend="*/" commentbegin="/*" extensions="java"/>
  </preprocess>

  <javac includeantruntime="false" debug="true" debuglevel="lines,vars,source" srcdir="${itbase_tmpsrc}" destdir="${itbase_build}/" target="1.6" source="1.6">
    <classpath>
      <path refid="zimbra-jars-6.0.16" />
      <path refid="libraries" />
      <pathelement location="${dist}/zal.jar" />
      <pathelement location="../dist/zextras.jar" />
    </classpath>
   <compilerarg value="-Xlint:none" />
  </javac>

  <delete dir="${itbase_tmpsrc}/"/>

  <jar jarfile="${dist}/zal-itbase.jar" compress="false">
    <manifest>
      <attribute name="Specification-Title" value="Zimbra Abstraction Layer" />
      <attribute name="Specification-Version" value="1.6.0" />
      <attribute name="Specification-Vendor" value="ZeXtras" />
      <attribute name="Implementation-Version" value="6.0.16" />
      <attribute name="Created-By" value="ZeXtras" />
    </manifest>
    <fileset dir="${itbase_build}" />
  </jar>
</target>


<path id="zimbra-jars-7.0.0">
    <fileset dir="../build-commons/zimbra-jars/zimbra-jars-7.0.0/" >
        <include name="*.jar"/>
    </fileset>
</path>

<target name="zal-7.0.0"  description="create jar" depends="init">

  <var name="tmpsrc"  value="tmpsrc/7.0.0/jar/" />
  <var name="build" value="build/7.0.0/jar/" />
  <var name="dist"  value="dist/7.0.0/"/>

  <mkdir dir="${tmpsrc}"/>
  <mkdir dir="${build}"/>
  <mkdir dir="${dist}"/>

  <echo>Creating zal JAR for zimbra 7.0.0 ...</echo>

  <echo>Preprocessing...</echo>
  <preprocess indir="${src}" outdir="${tmpsrc}" out="replace" >
    <var name="ZimbraVersion" value="7.0.0" />
    <var name="MajorZimbraVersion"  value="7" />
    <var name="MiddleZimbraVersion" value="0" />
    <var name="MinorZimbraVersion"  value="0" />
    <filetype commentend="*/" commentbegin="/*" extensions="java"/>
  </preprocess>

  <javac includeantruntime="false" debug="true" debuglevel="lines,vars,source" srcdir="${tmpsrc}/" destdir="${build}/" target="1.6" source="1.6">
    <classpath>
      <path refid="zimbra-jars-7.0.0" />
      <path refid="libraries" />
      <pathelement path="${build}" />
    </classpath>
   <compilerarg value="-Xlint:none" />
  </javac>
  <delete dir="${tmpsrc}/"/>

  <jar jarfile="${dist}/zal.jar.unsigned" compress="false">
    <manifest>
      <attribute name="Specification-Title" value="Zimbra Abstraction Layer" />
      <attribute name="Specification-Version" value="1.6.0" />
      <attribute name="Specification-Vendor" value="ZeXtras" />
      <attribute name="Implementation-Version" value="7.0.0" />
      <attribute name="Created-By" value="ZeXtras" />
      <attribute name="Zimbra-Extension-Class" value="org.openzal.zal.extension.ZalEntrypoint" />
    </manifest>
    <fileset dir="${build}" />
  </jar>

  <java dir="." fork="true" classname="org.openzal.zal.tools.ChecksumWriter">
    <classpath>
      <pathelement location="${dist}/zal.jar.unsigned" />
    </classpath>
    <arg value="${dist}/zal.jar" />
  </java>

  <delete file="${dist}/zal.jar.unsigned" />
</target>


<target name="zal-7.0.0-itbase"  description="create test jar" depends="init">

  <var name="itbase_tmpsrc"  value="tmpsrc/7.0.0/itbase/" />
  <var name="itbase_build" value="build/7.0.0/itbase/" />
  <var name="dist"  value="dist/7.0.0/"/>

  <mkdir dir="${itbase_tmpsrc}"/>
  <mkdir dir="${itbase_build}"/>

  <echo>Preprocessing ZAL test library...</echo>
  <preprocess indir="${itbase}" outdir="${itbase_tmpsrc}" out="replace" >
    <var name="ZimbraVersion" value="7.0.0" />
    <var name="MajorZimbraVersion"  value="7" />
    <var name="MiddleZimbraVersion" value="0" />
    <var name="MinorZimbraVersion"  value="0" />
    <filetype commentend="*/" commentbegin="/*" extensions="java"/>
  </preprocess>

  <javac includeantruntime="false" debug="true" debuglevel="lines,vars,source" srcdir="${itbase_tmpsrc}" destdir="${itbase_build}/" target="1.6" source="1.6">
    <classpath>
      <path refid="zimbra-jars-7.0.0" />
      <path refid="libraries" />
      <pathelement location="${dist}/zal.jar" />
      <pathelement location="../dist/zextras.jar" />
    </classpath>
   <compilerarg value="-Xlint:none" />
  </javac>

  <delete dir="${itbase_tmpsrc}/"/>

  <jar jarfile="${dist}/zal-itbase.jar" compress="false">
    <manifest>
      <attribute name="Specification-Title" value="Zimbra Abstraction Layer" />
      <attribute name="Specification-Version" value="1.6.0" />
      <attribute name="Specification-Vendor" value="ZeXtras" />
      <attribute name="Implementation-Version" value="7.0.0" />
      <attribute name="Created-By" value="ZeXtras" />
    </manifest>
    <fileset dir="${itbase_build}" />
  </jar>
</target>


<path id="zimbra-jars-7.0.1">
    <fileset dir="../build-commons/zimbra-jars/zimbra-jars-7.0.1/" >
        <include name="*.jar"/>
    </fileset>
</path>

<target name="zal-7.0.1"  description="create jar" depends="init">

  <var name="tmpsrc"  value="tmpsrc/7.0.1/jar/" />
  <var name="build" value="build/7.0.1/jar/" />
  <var name="dist"  value="dist/7.0.1/"/>

  <mkdir dir="${tmpsrc}"/>
  <mkdir dir="${build}"/>
  <mkdir dir="${dist}"/>

  <echo>Creating zal JAR for zimbra 7.0.1 ...</echo>

  <echo>Preprocessing...</echo>
  <preprocess indir="${src}" outdir="${tmpsrc}" out="replace" >
    <var name="ZimbraVersion" value="7.0.1" />
    <var name="MajorZimbraVersion"  value="7" />
    <var name="MiddleZimbraVersion" value="0" />
    <var name="MinorZimbraVersion"  value="1" />
    <filetype commentend="*/" commentbegin="/*" extensions="java"/>
  </preprocess>

  <javac includeantruntime="false" debug="true" debuglevel="lines,vars,source" srcdir="${tmpsrc}/" destdir="${build}/" target="1.6" source="1.6">
    <classpath>
      <path refid="zimbra-jars-7.0.1" />
      <path refid="libraries" />
      <pathelement path="${build}" />
    </classpath>
   <compilerarg value="-Xlint:none" />
  </javac>
  <delete dir="${tmpsrc}/"/>

  <jar jarfile="${dist}/zal.jar.unsigned" compress="false">
    <manifest>
      <attribute name="Specification-Title" value="Zimbra Abstraction Layer" />
      <attribute name="Specification-Version" value="1.6.0" />
      <attribute name="Specification-Vendor" value="ZeXtras" />
      <attribute name="Implementation-Version" value="7.0.1" />
      <attribute name="Created-By" value="ZeXtras" />
      <attribute name="Zimbra-Extension-Class" value="org.openzal.zal.extension.ZalEntrypoint" />
    </manifest>
    <fileset dir="${build}" />
  </jar>

  <java dir="." fork="true" classname="org.openzal.zal.tools.ChecksumWriter">
    <classpath>
      <pathelement location="${dist}/zal.jar.unsigned" />
    </classpath>
    <arg value="${dist}/zal.jar" />
  </java>

  <delete file="${dist}/zal.jar.unsigned" />
</target>


<target name="zal-7.0.1-itbase"  description="create test jar" depends="init">

  <var name="itbase_tmpsrc"  value="tmpsrc/7.0.1/itbase/" />
  <var name="itbase_build" value="build/7.0.1/itbase/" />
  <var name="dist"  value="dist/7.0.1/"/>

  <mkdir dir="${itbase_tmpsrc}"/>
  <mkdir dir="${itbase_build}"/>

  <echo>Preprocessing ZAL test library...</echo>
  <preprocess indir="${itbase}" outdir="${itbase_tmpsrc}" out="replace" >
    <var name="ZimbraVersion" value="7.0.1" />
    <var name="MajorZimbraVersion"  value="7" />
    <var name="MiddleZimbraVersion" value="0" />
    <var name="MinorZimbraVersion"  value="1" />
    <filetype commentend="*/" commentbegin="/*" extensions="java"/>
  </preprocess>

  <javac includeantruntime="false" debug="true" debuglevel="lines,vars,source" srcdir="${itbase_tmpsrc}" destdir="${itbase_build}/" target="1.6" source="1.6">
    <classpath>
      <path refid="zimbra-jars-7.0.1" />
      <path refid="libraries" />
      <pathelement location="${dist}/zal.jar" />
      <pathelement location="../dist/zextras.jar" />
    </classpath>
   <compilerarg value="-Xlint:none" />
  </javac>

  <delete dir="${itbase_tmpsrc}/"/>

  <jar jarfile="${dist}/zal-itbase.jar" compress="false">
    <manifest>
      <attribute name="Specification-Title" value="Zimbra Abstraction Layer" />
      <attribute name="Specification-Version" value="1.6.0" />
      <attribute name="Specification-Vendor" value="ZeXtras" />
      <attribute name="Implementation-Version" value="7.0.1" />
      <attribute name="Created-By" value="ZeXtras" />
    </manifest>
    <fileset dir="${itbase_build}" />
  </jar>
</target>


<path id="zimbra-jars-7.1.0">
    <fileset dir="../build-commons/zimbra-jars/zimbra-jars-7.1.0/" >
        <include name="*.jar"/>
    </fileset>
</path>

<target name="zal-7.1.0"  description="create jar" depends="init">

  <var name="tmpsrc"  value="tmpsrc/7.1.0/jar/" />
  <var name="build" value="build/7.1.0/jar/" />
  <var name="dist"  value="dist/7.1.0/"/>

  <mkdir dir="${tmpsrc}"/>
  <mkdir dir="${build}"/>
  <mkdir dir="${dist}"/>

  <echo>Creating zal JAR for zimbra 7.1.0 ...</echo>

  <echo>Preprocessing...</echo>
  <preprocess indir="${src}" outdir="${tmpsrc}" out="replace" >
    <var name="ZimbraVersion" value="7.1.0" />
    <var name="MajorZimbraVersion"  value="7" />
    <var name="MiddleZimbraVersion" value="1" />
    <var name="MinorZimbraVersion"  value="0" />
    <filetype commentend="*/" commentbegin="/*" extensions="java"/>
  </preprocess>

  <javac includeantruntime="false" debug="true" debuglevel="lines,vars,source" srcdir="${tmpsrc}/" destdir="${build}/" target="1.6" source="1.6">
    <classpath>
      <path refid="zimbra-jars-7.1.0" />
      <path refid="libraries" />
      <pathelement path="${build}" />
    </classpath>
   <compilerarg value="-Xlint:none" />
  </javac>
  <delete dir="${tmpsrc}/"/>

  <jar jarfile="${dist}/zal.jar.unsigned" compress="false">
    <manifest>
      <attribute name="Specification-Title" value="Zimbra Abstraction Layer" />
      <attribute name="Specification-Version" value="1.6.0" />
      <attribute name="Specification-Vendor" value="ZeXtras" />
      <attribute name="Implementation-Version" value="7.1.0" />
      <attribute name="Created-By" value="ZeXtras" />
      <attribute name="Zimbra-Extension-Class" value="org.openzal.zal.extension.ZalEntrypoint" />
    </manifest>
    <fileset dir="${build}" />
  </jar>

  <java dir="." fork="true" classname="org.openzal.zal.tools.ChecksumWriter">
    <classpath>
      <pathelement location="${dist}/zal.jar.unsigned" />
    </classpath>
    <arg value="${dist}/zal.jar" />
  </java>

  <delete file="${dist}/zal.jar.unsigned" />
</target>


<target name="zal-7.1.0-itbase"  description="create test jar" depends="init">

  <var name="itbase_tmpsrc"  value="tmpsrc/7.1.0/itbase/" />
  <var name="itbase_build" value="build/7.1.0/itbase/" />
  <var name="dist"  value="dist/7.1.0/"/>

  <mkdir dir="${itbase_tmpsrc}"/>
  <mkdir dir="${itbase_build}"/>

  <echo>Preprocessing ZAL test library...</echo>
  <preprocess indir="${itbase}" outdir="${itbase_tmpsrc}" out="replace" >
    <var name="ZimbraVersion" value="7.1.0" />
    <var name="MajorZimbraVersion"  value="7" />
    <var name="MiddleZimbraVersion" value="1" />
    <var name="MinorZimbraVersion"  value="0" />
    <filetype commentend="*/" commentbegin="/*" extensions="java"/>
  </preprocess>

  <javac includeantruntime="false" debug="true" debuglevel="lines,vars,source" srcdir="${itbase_tmpsrc}" destdir="${itbase_build}/" target="1.6" source="1.6">
    <classpath>
      <path refid="zimbra-jars-7.1.0" />
      <path refid="libraries" />
      <pathelement location="${dist}/zal.jar" />
      <pathelement location="../dist/zextras.jar" />
    </classpath>
   <compilerarg value="-Xlint:none" />
  </javac>

  <delete dir="${itbase_tmpsrc}/"/>

  <jar jarfile="${dist}/zal-itbase.jar" compress="false">
    <manifest>
      <attribute name="Specification-Title" value="Zimbra Abstraction Layer" />
      <attribute name="Specification-Version" value="1.6.0" />
      <attribute name="Specification-Vendor" value="ZeXtras" />
      <attribute name="Implementation-Version" value="7.1.0" />
      <attribute name="Created-By" value="ZeXtras" />
    </manifest>
    <fileset dir="${itbase_build}" />
  </jar>
</target>


<path id="zimbra-jars-7.1.1">
    <fileset dir="../build-commons/zimbra-jars/zimbra-jars-7.1.1/" >
        <include name="*.jar"/>
    </fileset>
</path>

<target name="zal-7.1.1"  description="create jar" depends="init">

  <var name="tmpsrc"  value="tmpsrc/7.1.1/jar/" />
  <var name="build" value="build/7.1.1/jar/" />
  <var name="dist"  value="dist/7.1.1/"/>

  <mkdir dir="${tmpsrc}"/>
  <mkdir dir="${build}"/>
  <mkdir dir="${dist}"/>

  <echo>Creating zal JAR for zimbra 7.1.1 ...</echo>

  <echo>Preprocessing...</echo>
  <preprocess indir="${src}" outdir="${tmpsrc}" out="replace" >
    <var name="ZimbraVersion" value="7.1.1" />
    <var name="MajorZimbraVersion"  value="7" />
    <var name="MiddleZimbraVersion" value="1" />
    <var name="MinorZimbraVersion"  value="1" />
    <filetype commentend="*/" commentbegin="/*" extensions="java"/>
  </preprocess>

  <javac includeantruntime="false" debug="true" debuglevel="lines,vars,source" srcdir="${tmpsrc}/" destdir="${build}/" target="1.6" source="1.6">
    <classpath>
      <path refid="zimbra-jars-7.1.1" />
      <path refid="libraries" />
      <pathelement path="${build}" />
    </classpath>
   <compilerarg value="-Xlint:none" />
  </javac>
  <delete dir="${tmpsrc}/"/>

  <jar jarfile="${dist}/zal.jar.unsigned" compress="false">
    <manifest>
      <attribute name="Specification-Title" value="Zimbra Abstraction Layer" />
      <attribute name="Specification-Version" value="1.6.0" />
      <attribute name="Specification-Vendor" value="ZeXtras" />
      <attribute name="Implementation-Version" value="7.1.1" />
      <attribute name="Created-By" value="ZeXtras" />
      <attribute name="Zimbra-Extension-Class" value="org.openzal.zal.extension.ZalEntrypoint" />
    </manifest>
    <fileset dir="${build}" />
  </jar>

  <java dir="." fork="true" classname="org.openzal.zal.tools.ChecksumWriter">
    <classpath>
      <pathelement location="${dist}/zal.jar.unsigned" />
    </classpath>
    <arg value="${dist}/zal.jar" />
  </java>

  <delete file="${dist}/zal.jar.unsigned" />
</target>


<target name="zal-7.1.1-itbase"  description="create test jar" depends="init">

  <var name="itbase_tmpsrc"  value="tmpsrc/7.1.1/itbase/" />
  <var name="itbase_build" value="build/7.1.1/itbase/" />
  <var name="dist"  value="dist/7.1.1/"/>

  <mkdir dir="${itbase_tmpsrc}"/>
  <mkdir dir="${itbase_build}"/>

  <echo>Preprocessing ZAL test library...</echo>
  <preprocess indir="${itbase}" outdir="${itbase_tmpsrc}" out="replace" >
    <var name="ZimbraVersion" value="7.1.1" />
    <var name="MajorZimbraVersion"  value="7" />
    <var name="MiddleZimbraVersion" value="1" />
    <var name="MinorZimbraVersion"  value="1" />
    <filetype commentend="*/" commentbegin="/*" extensions="java"/>
  </preprocess>

  <javac includeantruntime="false" debug="true" debuglevel="lines,vars,source" srcdir="${itbase_tmpsrc}" destdir="${itbase_build}/" target="1.6" source="1.6">
    <classpath>
      <path refid="zimbra-jars-7.1.1" />
      <path refid="libraries" />
      <pathelement location="${dist}/zal.jar" />
      <pathelement location="../dist/zextras.jar" />
    </classpath>
   <compilerarg value="-Xlint:none" />
  </javac>

  <delete dir="${itbase_tmpsrc}/"/>

  <jar jarfile="${dist}/zal-itbase.jar" compress="false">
    <manifest>
      <attribute name="Specification-Title" value="Zimbra Abstraction Layer" />
      <attribute name="Specification-Version" value="1.6.0" />
      <attribute name="Specification-Vendor" value="ZeXtras" />
      <attribute name="Implementation-Version" value="7.1.1" />
      <attribute name="Created-By" value="ZeXtras" />
    </manifest>
    <fileset dir="${itbase_build}" />
  </jar>
</target>


<path id="zimbra-jars-7.1.2">
    <fileset dir="../build-commons/zimbra-jars/zimbra-jars-7.1.2/" >
        <include name="*.jar"/>
    </fileset>
</path>

<target name="zal-7.1.2"  description="create jar" depends="init">

  <var name="tmpsrc"  value="tmpsrc/7.1.2/jar/" />
  <var name="build" value="build/7.1.2/jar/" />
  <var name="dist"  value="dist/7.1.2/"/>

  <mkdir dir="${tmpsrc}"/>
  <mkdir dir="${build}"/>
  <mkdir dir="${dist}"/>

  <echo>Creating zal JAR for zimbra 7.1.2 ...</echo>

  <echo>Preprocessing...</echo>
  <preprocess indir="${src}" outdir="${tmpsrc}" out="replace" >
    <var name="ZimbraVersion" value="7.1.2" />
    <var name="MajorZimbraVersion"  value="7" />
    <var name="MiddleZimbraVersion" value="1" />
    <var name="MinorZimbraVersion"  value="2" />
    <filetype commentend="*/" commentbegin="/*" extensions="java"/>
  </preprocess>

  <javac includeantruntime="false" debug="true" debuglevel="lines,vars,source" srcdir="${tmpsrc}/" destdir="${build}/" target="1.6" source="1.6">
    <classpath>
      <path refid="zimbra-jars-7.1.2" />
      <path refid="libraries" />
      <pathelement path="${build}" />
    </classpath>
   <compilerarg value="-Xlint:none" />
  </javac>
  <delete dir="${tmpsrc}/"/>

  <jar jarfile="${dist}/zal.jar.unsigned" compress="false">
    <manifest>
      <attribute name="Specification-Title" value="Zimbra Abstraction Layer" />
      <attribute name="Specification-Version" value="1.6.0" />
      <attribute name="Specification-Vendor" value="ZeXtras" />
      <attribute name="Implementation-Version" value="7.1.2" />
      <attribute name="Created-By" value="ZeXtras" />
      <attribute name="Zimbra-Extension-Class" value="org.openzal.zal.extension.ZalEntrypoint" />
    </manifest>
    <fileset dir="${build}" />
  </jar>

  <java dir="." fork="true" classname="org.openzal.zal.tools.ChecksumWriter">
    <classpath>
      <pathelement location="${dist}/zal.jar.unsigned" />
    </classpath>
    <arg value="${dist}/zal.jar" />
  </java>

  <delete file="${dist}/zal.jar.unsigned" />
</target>


<target name="zal-7.1.2-itbase"  description="create test jar" depends="init">

  <var name="itbase_tmpsrc"  value="tmpsrc/7.1.2/itbase/" />
  <var name="itbase_build" value="build/7.1.2/itbase/" />
  <var name="dist"  value="dist/7.1.2/"/>

  <mkdir dir="${itbase_tmpsrc}"/>
  <mkdir dir="${itbase_build}"/>

  <echo>Preprocessing ZAL test library...</echo>
  <preprocess indir="${itbase}" outdir="${itbase_tmpsrc}" out="replace" >
    <var name="ZimbraVersion" value="7.1.2" />
    <var name="MajorZimbraVersion"  value="7" />
    <var name="MiddleZimbraVersion" value="1" />
    <var name="MinorZimbraVersion"  value="2" />
    <filetype commentend="*/" commentbegin="/*" extensions="java"/>
  </preprocess>

  <javac includeantruntime="false" debug="true" debuglevel="lines,vars,source" srcdir="${itbase_tmpsrc}" destdir="${itbase_build}/" target="1.6" source="1.6">
    <classpath>
      <path refid="zimbra-jars-7.1.2" />
      <path refid="libraries" />
      <pathelement location="${dist}/zal.jar" />
      <pathelement location="../dist/zextras.jar" />
    </classpath>
   <compilerarg value="-Xlint:none" />
  </javac>

  <delete dir="${itbase_tmpsrc}/"/>

  <jar jarfile="${dist}/zal-itbase.jar" compress="false">
    <manifest>
      <attribute name="Specification-Title" value="Zimbra Abstraction Layer" />
      <attribute name="Specification-Version" value="1.6.0" />
      <attribute name="Specification-Vendor" value="ZeXtras" />
      <attribute name="Implementation-Version" value="7.1.2" />
      <attribute name="Created-By" value="ZeXtras" />
    </manifest>
    <fileset dir="${itbase_build}" />
  </jar>
</target>


<path id="zimbra-jars-7.1.3">
    <fileset dir="../build-commons/zimbra-jars/zimbra-jars-7.1.3/" >
        <include name="*.jar"/>
    </fileset>
</path>

<target name="zal-7.1.3"  description="create jar" depends="init">

  <var name="tmpsrc"  value="tmpsrc/7.1.3/jar/" />
  <var name="build" value="build/7.1.3/jar/" />
  <var name="dist"  value="dist/7.1.3/"/>

  <mkdir dir="${tmpsrc}"/>
  <mkdir dir="${build}"/>
  <mkdir dir="${dist}"/>

  <echo>Creating zal JAR for zimbra 7.1.3 ...</echo>

  <echo>Preprocessing...</echo>
  <preprocess indir="${src}" outdir="${tmpsrc}" out="replace" >
    <var name="ZimbraVersion" value="7.1.3" />
    <var name="MajorZimbraVersion"  value="7" />
    <var name="MiddleZimbraVersion" value="1" />
    <var name="MinorZimbraVersion"  value="3" />
    <filetype commentend="*/" commentbegin="/*" extensions="java"/>
  </preprocess>

  <javac includeantruntime="false" debug="true" debuglevel="lines,vars,source" srcdir="${tmpsrc}/" destdir="${build}/" target="1.6" source="1.6">
    <classpath>
      <path refid="zimbra-jars-7.1.3" />
      <path refid="libraries" />
      <pathelement path="${build}" />
    </classpath>
   <compilerarg value="-Xlint:none" />
  </javac>
  <delete dir="${tmpsrc}/"/>

  <jar jarfile="${dist}/zal.jar.unsigned" compress="false">
    <manifest>
      <attribute name="Specification-Title" value="Zimbra Abstraction Layer" />
      <attribute name="Specification-Version" value="1.6.0" />
      <attribute name="Specification-Vendor" value="ZeXtras" />
      <attribute name="Implementation-Version" value="7.1.3" />
      <attribute name="Created-By" value="ZeXtras" />
      <attribute name="Zimbra-Extension-Class" value="org.openzal.zal.extension.ZalEntrypoint" />
    </manifest>
    <fileset dir="${build}" />
  </jar>

  <java dir="." fork="true" classname="org.openzal.zal.tools.ChecksumWriter">
    <classpath>
      <pathelement location="${dist}/zal.jar.unsigned" />
    </classpath>
    <arg value="${dist}/zal.jar" />
  </java>

  <delete file="${dist}/zal.jar.unsigned" />
</target>


<target name="zal-7.1.3-itbase"  description="create test jar" depends="init">

  <var name="itbase_tmpsrc"  value="tmpsrc/7.1.3/itbase/" />
  <var name="itbase_build" value="build/7.1.3/itbase/" />
  <var name="dist"  value="dist/7.1.3/"/>

  <mkdir dir="${itbase_tmpsrc}"/>
  <mkdir dir="${itbase_build}"/>

  <echo>Preprocessing ZAL test library...</echo>
  <preprocess indir="${itbase}" outdir="${itbase_tmpsrc}" out="replace" >
    <var name="ZimbraVersion" value="7.1.3" />
    <var name="MajorZimbraVersion"  value="7" />
    <var name="MiddleZimbraVersion" value="1" />
    <var name="MinorZimbraVersion"  value="3" />
    <filetype commentend="*/" commentbegin="/*" extensions="java"/>
  </preprocess>

  <javac includeantruntime="false" debug="true" debuglevel="lines,vars,source" srcdir="${itbase_tmpsrc}" destdir="${itbase_build}/" target="1.6" source="1.6">
    <classpath>
      <path refid="zimbra-jars-7.1.3" />
      <path refid="libraries" />
      <pathelement location="${dist}/zal.jar" />
      <pathelement location="../dist/zextras.jar" />
    </classpath>
   <compilerarg value="-Xlint:none" />
  </javac>

  <delete dir="${itbase_tmpsrc}/"/>

  <jar jarfile="${dist}/zal-itbase.jar" compress="false">
    <manifest>
      <attribute name="Specification-Title" value="Zimbra Abstraction Layer" />
      <attribute name="Specification-Version" value="1.6.0" />
      <attribute name="Specification-Vendor" value="ZeXtras" />
      <attribute name="Implementation-Version" value="7.1.3" />
      <attribute name="Created-By" value="ZeXtras" />
    </manifest>
    <fileset dir="${itbase_build}" />
  </jar>
</target>


<path id="zimbra-jars-7.1.4">
    <fileset dir="../build-commons/zimbra-jars/zimbra-jars-7.1.4/" >
        <include name="*.jar"/>
    </fileset>
</path>

<target name="zal-7.1.4"  description="create jar" depends="init">

  <var name="tmpsrc"  value="tmpsrc/7.1.4/jar/" />
  <var name="build" value="build/7.1.4/jar/" />
  <var name="dist"  value="dist/7.1.4/"/>

  <mkdir dir="${tmpsrc}"/>
  <mkdir dir="${build}"/>
  <mkdir dir="${dist}"/>

  <echo>Creating zal JAR for zimbra 7.1.4 ...</echo>

  <echo>Preprocessing...</echo>
  <preprocess indir="${src}" outdir="${tmpsrc}" out="replace" >
    <var name="ZimbraVersion" value="7.1.4" />
    <var name="MajorZimbraVersion"  value="7" />
    <var name="MiddleZimbraVersion" value="1" />
    <var name="MinorZimbraVersion"  value="4" />
    <filetype commentend="*/" commentbegin="/*" extensions="java"/>
  </preprocess>

  <javac includeantruntime="false" debug="true" debuglevel="lines,vars,source" srcdir="${tmpsrc}/" destdir="${build}/" target="1.6" source="1.6">
    <classpath>
      <path refid="zimbra-jars-7.1.4" />
      <path refid="libraries" />
      <pathelement path="${build}" />
    </classpath>
   <compilerarg value="-Xlint:none" />
  </javac>
  <delete dir="${tmpsrc}/"/>

  <jar jarfile="${dist}/zal.jar.unsigned" compress="false">
    <manifest>
      <attribute name="Specification-Title" value="Zimbra Abstraction Layer" />
      <attribute name="Specification-Version" value="1.6.0" />
      <attribute name="Specification-Vendor" value="ZeXtras" />
      <attribute name="Implementation-Version" value="7.1.4" />
      <attribute name="Created-By" value="ZeXtras" />
      <attribute name="Zimbra-Extension-Class" value="org.openzal.zal.extension.ZalEntrypoint" />
    </manifest>
    <fileset dir="${build}" />
  </jar>

  <java dir="." fork="true" classname="org.openzal.zal.tools.ChecksumWriter">
    <classpath>
      <pathelement location="${dist}/zal.jar.unsigned" />
    </classpath>
    <arg value="${dist}/zal.jar" />
  </java>

  <delete file="${dist}/zal.jar.unsigned" />
</target>


<target name="zal-7.1.4-itbase"  description="create test jar" depends="init">

  <var name="itbase_tmpsrc"  value="tmpsrc/7.1.4/itbase/" />
  <var name="itbase_build" value="build/7.1.4/itbase/" />
  <var name="dist"  value="dist/7.1.4/"/>

  <mkdir dir="${itbase_tmpsrc}"/>
  <mkdir dir="${itbase_build}"/>

  <echo>Preprocessing ZAL test library...</echo>
  <preprocess indir="${itbase}" outdir="${itbase_tmpsrc}" out="replace" >
    <var name="ZimbraVersion" value="7.1.4" />
    <var name="MajorZimbraVersion"  value="7" />
    <var name="MiddleZimbraVersion" value="1" />
    <var name="MinorZimbraVersion"  value="4" />
    <filetype commentend="*/" commentbegin="/*" extensions="java"/>
  </preprocess>

  <javac includeantruntime="false" debug="true" debuglevel="lines,vars,source" srcdir="${itbase_tmpsrc}" destdir="${itbase_build}/" target="1.6" source="1.6">
    <classpath>
      <path refid="zimbra-jars-7.1.4" />
      <path refid="libraries" />
      <pathelement location="${dist}/zal.jar" />
      <pathelement location="../dist/zextras.jar" />
    </classpath>
   <compilerarg value="-Xlint:none" />
  </javac>

  <delete dir="${itbase_tmpsrc}/"/>

  <jar jarfile="${dist}/zal-itbase.jar" compress="false">
    <manifest>
      <attribute name="Specification-Title" value="Zimbra Abstraction Layer" />
      <attribute name="Specification-Version" value="1.6.0" />
      <attribute name="Specification-Vendor" value="ZeXtras" />
      <attribute name="Implementation-Version" value="7.1.4" />
      <attribute name="Created-By" value="ZeXtras" />
    </manifest>
    <fileset dir="${itbase_build}" />
  </jar>
</target>


<path id="zimbra-jars-7.2.0">
    <fileset dir="../build-commons/zimbra-jars/zimbra-jars-7.2.0/" >
        <include name="*.jar"/>
    </fileset>
</path>

<target name="zal-7.2.0"  description="create jar" depends="init">

  <var name="tmpsrc"  value="tmpsrc/7.2.0/jar/" />
  <var name="build" value="build/7.2.0/jar/" />
  <var name="dist"  value="dist/7.2.0/"/>

  <mkdir dir="${tmpsrc}"/>
  <mkdir dir="${build}"/>
  <mkdir dir="${dist}"/>

  <echo>Creating zal JAR for zimbra 7.2.0 ...</echo>

  <echo>Preprocessing...</echo>
  <preprocess indir="${src}" outdir="${tmpsrc}" out="replace" >
    <var name="ZimbraVersion" value="7.2.0" />
    <var name="MajorZimbraVersion"  value="7" />
    <var name="MiddleZimbraVersion" value="2" />
    <var name="MinorZimbraVersion"  value="0" />
    <filetype commentend="*/" commentbegin="/*" extensions="java"/>
  </preprocess>

  <javac includeantruntime="false" debug="true" debuglevel="lines,vars,source" srcdir="${tmpsrc}/" destdir="${build}/" target="1.6" source="1.6">
    <classpath>
      <path refid="zimbra-jars-7.2.0" />
      <path refid="libraries" />
      <pathelement path="${build}" />
    </classpath>
   <compilerarg value="-Xlint:none" />
  </javac>
  <delete dir="${tmpsrc}/"/>

  <jar jarfile="${dist}/zal.jar.unsigned" compress="false">
    <manifest>
      <attribute name="Specification-Title" value="Zimbra Abstraction Layer" />
      <attribute name="Specification-Version" value="1.6.0" />
      <attribute name="Specification-Vendor" value="ZeXtras" />
      <attribute name="Implementation-Version" value="7.2.0" />
      <attribute name="Created-By" value="ZeXtras" />
      <attribute name="Zimbra-Extension-Class" value="org.openzal.zal.extension.ZalEntrypoint" />
    </manifest>
    <fileset dir="${build}" />
  </jar>

  <java dir="." fork="true" classname="org.openzal.zal.tools.ChecksumWriter">
    <classpath>
      <pathelement location="${dist}/zal.jar.unsigned" />
    </classpath>
    <arg value="${dist}/zal.jar" />
  </java>

  <delete file="${dist}/zal.jar.unsigned" />
</target>


<target name="zal-7.2.0-itbase"  description="create test jar" depends="init">

  <var name="itbase_tmpsrc"  value="tmpsrc/7.2.0/itbase/" />
  <var name="itbase_build" value="build/7.2.0/itbase/" />
  <var name="dist"  value="dist/7.2.0/"/>

  <mkdir dir="${itbase_tmpsrc}"/>
  <mkdir dir="${itbase_build}"/>

  <echo>Preprocessing ZAL test library...</echo>
  <preprocess indir="${itbase}" outdir="${itbase_tmpsrc}" out="replace" >
    <var name="ZimbraVersion" value="7.2.0" />
    <var name="MajorZimbraVersion"  value="7" />
    <var name="MiddleZimbraVersion" value="2" />
    <var name="MinorZimbraVersion"  value="0" />
    <filetype commentend="*/" commentbegin="/*" extensions="java"/>
  </preprocess>

  <javac includeantruntime="false" debug="true" debuglevel="lines,vars,source" srcdir="${itbase_tmpsrc}" destdir="${itbase_build}/" target="1.6" source="1.6">
    <classpath>
      <path refid="zimbra-jars-7.2.0" />
      <path refid="libraries" />
      <pathelement location="${dist}/zal.jar" />
      <pathelement location="../dist/zextras.jar" />
    </classpath>
   <compilerarg value="-Xlint:none" />
  </javac>

  <delete dir="${itbase_tmpsrc}/"/>

  <jar jarfile="${dist}/zal-itbase.jar" compress="false">
    <manifest>
      <attribute name="Specification-Title" value="Zimbra Abstraction Layer" />
      <attribute name="Specification-Version" value="1.6.0" />
      <attribute name="Specification-Vendor" value="ZeXtras" />
      <attribute name="Implementation-Version" value="7.2.0" />
      <attribute name="Created-By" value="ZeXtras" />
    </manifest>
    <fileset dir="${itbase_build}" />
  </jar>
</target>


<path id="zimbra-jars-7.2.1">
    <fileset dir="../build-commons/zimbra-jars/zimbra-jars-7.2.1/" >
        <include name="*.jar"/>
    </fileset>
</path>

<target name="zal-7.2.1"  description="create jar" depends="init">

  <var name="tmpsrc"  value="tmpsrc/7.2.1/jar/" />
  <var name="build" value="build/7.2.1/jar/" />
  <var name="dist"  value="dist/7.2.1/"/>

  <mkdir dir="${tmpsrc}"/>
  <mkdir dir="${build}"/>
  <mkdir dir="${dist}"/>

  <echo>Creating zal JAR for zimbra 7.2.1 ...</echo>

  <echo>Preprocessing...</echo>
  <preprocess indir="${src}" outdir="${tmpsrc}" out="replace" >
    <var name="ZimbraVersion" value="7.2.1" />
    <var name="MajorZimbraVersion"  value="7" />
    <var name="MiddleZimbraVersion" value="2" />
    <var name="MinorZimbraVersion"  value="1" />
    <filetype commentend="*/" commentbegin="/*" extensions="java"/>
  </preprocess>

  <javac includeantruntime="false" debug="true" debuglevel="lines,vars,source" srcdir="${tmpsrc}/" destdir="${build}/" target="1.6" source="1.6">
    <classpath>
      <path refid="zimbra-jars-7.2.1" />
      <path refid="libraries" />
      <pathelement path="${build}" />
    </classpath>
   <compilerarg value="-Xlint:none" />
  </javac>
  <delete dir="${tmpsrc}/"/>

  <jar jarfile="${dist}/zal.jar.unsigned" compress="false">
    <manifest>
      <attribute name="Specification-Title" value="Zimbra Abstraction Layer" />
      <attribute name="Specification-Version" value="1.6.0" />
      <attribute name="Specification-Vendor" value="ZeXtras" />
      <attribute name="Implementation-Version" value="7.2.1" />
      <attribute name="Created-By" value="ZeXtras" />
      <attribute name="Zimbra-Extension-Class" value="org.openzal.zal.extension.ZalEntrypoint" />
    </manifest>
    <fileset dir="${build}" />
  </jar>

  <java dir="." fork="true" classname="org.openzal.zal.tools.ChecksumWriter">
    <classpath>
      <pathelement location="${dist}/zal.jar.unsigned" />
    </classpath>
    <arg value="${dist}/zal.jar" />
  </java>

  <delete file="${dist}/zal.jar.unsigned" />
</target>


<target name="zal-7.2.1-itbase"  description="create test jar" depends="init">

  <var name="itbase_tmpsrc"  value="tmpsrc/7.2.1/itbase/" />
  <var name="itbase_build" value="build/7.2.1/itbase/" />
  <var name="dist"  value="dist/7.2.1/"/>

  <mkdir dir="${itbase_tmpsrc}"/>
  <mkdir dir="${itbase_build}"/>

  <echo>Preprocessing ZAL test library...</echo>
  <preprocess indir="${itbase}" outdir="${itbase_tmpsrc}" out="replace" >
    <var name="ZimbraVersion" value="7.2.1" />
    <var name="MajorZimbraVersion"  value="7" />
    <var name="MiddleZimbraVersion" value="2" />
    <var name="MinorZimbraVersion"  value="1" />
    <filetype commentend="*/" commentbegin="/*" extensions="java"/>
  </preprocess>

  <javac includeantruntime="false" debug="true" debuglevel="lines,vars,source" srcdir="${itbase_tmpsrc}" destdir="${itbase_build}/" target="1.6" source="1.6">
    <classpath>
      <path refid="zimbra-jars-7.2.1" />
      <path refid="libraries" />
      <pathelement location="${dist}/zal.jar" />
      <pathelement location="../dist/zextras.jar" />
    </classpath>
   <compilerarg value="-Xlint:none" />
  </javac>

  <delete dir="${itbase_tmpsrc}/"/>

  <jar jarfile="${dist}/zal-itbase.jar" compress="false">
    <manifest>
      <attribute name="Specification-Title" value="Zimbra Abstraction Layer" />
      <attribute name="Specification-Version" value="1.6.0" />
      <attribute name="Specification-Vendor" value="ZeXtras" />
      <attribute name="Implementation-Version" value="7.2.1" />
      <attribute name="Created-By" value="ZeXtras" />
    </manifest>
    <fileset dir="${itbase_build}" />
  </jar>
</target>


<path id="zimbra-jars-7.2.2">
    <fileset dir="../build-commons/zimbra-jars/zimbra-jars-7.2.2/" >
        <include name="*.jar"/>
    </fileset>
</path>

<target name="zal-7.2.2"  description="create jar" depends="init">

  <var name="tmpsrc"  value="tmpsrc/7.2.2/jar/" />
  <var name="build" value="build/7.2.2/jar/" />
  <var name="dist"  value="dist/7.2.2/"/>

  <mkdir dir="${tmpsrc}"/>
  <mkdir dir="${build}"/>
  <mkdir dir="${dist}"/>

  <echo>Creating zal JAR for zimbra 7.2.2 ...</echo>

  <echo>Preprocessing...</echo>
  <preprocess indir="${src}" outdir="${tmpsrc}" out="replace" >
    <var name="ZimbraVersion" value="7.2.2" />
    <var name="MajorZimbraVersion"  value="7" />
    <var name="MiddleZimbraVersion" value="2" />
    <var name="MinorZimbraVersion"  value="2" />
    <filetype commentend="*/" commentbegin="/*" extensions="java"/>
  </preprocess>

  <javac includeantruntime="false" debug="true" debuglevel="lines,vars,source" srcdir="${tmpsrc}/" destdir="${build}/" target="1.6" source="1.6">
    <classpath>
      <path refid="zimbra-jars-7.2.2" />
      <path refid="libraries" />
      <pathelement path="${build}" />
    </classpath>
   <compilerarg value="-Xlint:none" />
  </javac>
  <delete dir="${tmpsrc}/"/>

  <jar jarfile="${dist}/zal.jar.unsigned" compress="false">
    <manifest>
      <attribute name="Specification-Title" value="Zimbra Abstraction Layer" />
      <attribute name="Specification-Version" value="1.6.0" />
      <attribute name="Specification-Vendor" value="ZeXtras" />
      <attribute name="Implementation-Version" value="7.2.2" />
      <attribute name="Created-By" value="ZeXtras" />
      <attribute name="Zimbra-Extension-Class" value="org.openzal.zal.extension.ZalEntrypoint" />
    </manifest>
    <fileset dir="${build}" />
  </jar>

  <java dir="." fork="true" classname="org.openzal.zal.tools.ChecksumWriter">
    <classpath>
      <pathelement location="${dist}/zal.jar.unsigned" />
    </classpath>
    <arg value="${dist}/zal.jar" />
  </java>

  <delete file="${dist}/zal.jar.unsigned" />
</target>


<target name="zal-7.2.2-itbase"  description="create test jar" depends="init">

  <var name="itbase_tmpsrc"  value="tmpsrc/7.2.2/itbase/" />
  <var name="itbase_build" value="build/7.2.2/itbase/" />
  <var name="dist"  value="dist/7.2.2/"/>

  <mkdir dir="${itbase_tmpsrc}"/>
  <mkdir dir="${itbase_build}"/>

  <echo>Preprocessing ZAL test library...</echo>
  <preprocess indir="${itbase}" outdir="${itbase_tmpsrc}" out="replace" >
    <var name="ZimbraVersion" value="7.2.2" />
    <var name="MajorZimbraVersion"  value="7" />
    <var name="MiddleZimbraVersion" value="2" />
    <var name="MinorZimbraVersion"  value="2" />
    <filetype commentend="*/" commentbegin="/*" extensions="java"/>
  </preprocess>

  <javac includeantruntime="false" debug="true" debuglevel="lines,vars,source" srcdir="${itbase_tmpsrc}" destdir="${itbase_build}/" target="1.6" source="1.6">
    <classpath>
      <path refid="zimbra-jars-7.2.2" />
      <path refid="libraries" />
      <pathelement location="${dist}/zal.jar" />
      <pathelement location="../dist/zextras.jar" />
    </classpath>
   <compilerarg value="-Xlint:none" />
  </javac>

  <delete dir="${itbase_tmpsrc}/"/>

  <jar jarfile="${dist}/zal-itbase.jar" compress="false">
    <manifest>
      <attribute name="Specification-Title" value="Zimbra Abstraction Layer" />
      <attribute name="Specification-Version" value="1.6.0" />
      <attribute name="Specification-Vendor" value="ZeXtras" />
      <attribute name="Implementation-Version" value="7.2.2" />
      <attribute name="Created-By" value="ZeXtras" />
    </manifest>
    <fileset dir="${itbase_build}" />
  </jar>
</target>


<path id="zimbra-jars-7.2.3">
    <fileset dir="../build-commons/zimbra-jars/zimbra-jars-7.2.3/" >
        <include name="*.jar"/>
    </fileset>
</path>

<target name="zal-7.2.3"  description="create jar" depends="init">

  <var name="tmpsrc"  value="tmpsrc/7.2.3/jar/" />
  <var name="build" value="build/7.2.3/jar/" />
  <var name="dist"  value="dist/7.2.3/"/>

  <mkdir dir="${tmpsrc}"/>
  <mkdir dir="${build}"/>
  <mkdir dir="${dist}"/>

  <echo>Creating zal JAR for zimbra 7.2.3 ...</echo>

  <echo>Preprocessing...</echo>
  <preprocess indir="${src}" outdir="${tmpsrc}" out="replace" >
    <var name="ZimbraVersion" value="7.2.3" />
    <var name="MajorZimbraVersion"  value="7" />
    <var name="MiddleZimbraVersion" value="2" />
    <var name="MinorZimbraVersion"  value="3" />
    <filetype commentend="*/" commentbegin="/*" extensions="java"/>
  </preprocess>

  <javac includeantruntime="false" debug="true" debuglevel="lines,vars,source" srcdir="${tmpsrc}/" destdir="${build}/" target="1.6" source="1.6">
    <classpath>
      <path refid="zimbra-jars-7.2.3" />
      <path refid="libraries" />
      <pathelement path="${build}" />
    </classpath>
   <compilerarg value="-Xlint:none" />
  </javac>
  <delete dir="${tmpsrc}/"/>

  <jar jarfile="${dist}/zal.jar.unsigned" compress="false">
    <manifest>
      <attribute name="Specification-Title" value="Zimbra Abstraction Layer" />
      <attribute name="Specification-Version" value="1.6.0" />
      <attribute name="Specification-Vendor" value="ZeXtras" />
      <attribute name="Implementation-Version" value="7.2.3" />
      <attribute name="Created-By" value="ZeXtras" />
      <attribute name="Zimbra-Extension-Class" value="org.openzal.zal.extension.ZalEntrypoint" />
    </manifest>
    <fileset dir="${build}" />
  </jar>

  <java dir="." fork="true" classname="org.openzal.zal.tools.ChecksumWriter">
    <classpath>
      <pathelement location="${dist}/zal.jar.unsigned" />
    </classpath>
    <arg value="${dist}/zal.jar" />
  </java>

  <delete file="${dist}/zal.jar.unsigned" />
</target>


<target name="zal-7.2.3-itbase"  description="create test jar" depends="init">

  <var name="itbase_tmpsrc"  value="tmpsrc/7.2.3/itbase/" />
  <var name="itbase_build" value="build/7.2.3/itbase/" />
  <var name="dist"  value="dist/7.2.3/"/>

  <mkdir dir="${itbase_tmpsrc}"/>
  <mkdir dir="${itbase_build}"/>

  <echo>Preprocessing ZAL test library...</echo>
  <preprocess indir="${itbase}" outdir="${itbase_tmpsrc}" out="replace" >
    <var name="ZimbraVersion" value="7.2.3" />
    <var name="MajorZimbraVersion"  value="7" />
    <var name="MiddleZimbraVersion" value="2" />
    <var name="MinorZimbraVersion"  value="3" />
    <filetype commentend="*/" commentbegin="/*" extensions="java"/>
  </preprocess>

  <javac includeantruntime="false" debug="true" debuglevel="lines,vars,source" srcdir="${itbase_tmpsrc}" destdir="${itbase_build}/" target="1.6" source="1.6">
    <classpath>
      <path refid="zimbra-jars-7.2.3" />
      <path refid="libraries" />
      <pathelement location="${dist}/zal.jar" />
      <pathelement location="../dist/zextras.jar" />
    </classpath>
   <compilerarg value="-Xlint:none" />
  </javac>

  <delete dir="${itbase_tmpsrc}/"/>

  <jar jarfile="${dist}/zal-itbase.jar" compress="false">
    <manifest>
      <attribute name="Specification-Title" value="Zimbra Abstraction Layer" />
      <attribute name="Specification-Version" value="1.6.0" />
      <attribute name="Specification-Vendor" value="ZeXtras" />
      <attribute name="Implementation-Version" value="7.2.3" />
      <attribute name="Created-By" value="ZeXtras" />
    </manifest>
    <fileset dir="${itbase_build}" />
  </jar>
</target>


<path id="zimbra-jars-7.2.4">
    <fileset dir="../build-commons/zimbra-jars/zimbra-jars-7.2.4/" >
        <include name="*.jar"/>
    </fileset>
</path>

<target name="zal-7.2.4"  description="create jar" depends="init">

  <var name="tmpsrc"  value="tmpsrc/7.2.4/jar/" />
  <var name="build" value="build/7.2.4/jar/" />
  <var name="dist"  value="dist/7.2.4/"/>

  <mkdir dir="${tmpsrc}"/>
  <mkdir dir="${build}"/>
  <mkdir dir="${dist}"/>

  <echo>Creating zal JAR for zimbra 7.2.4 ...</echo>

  <echo>Preprocessing...</echo>
  <preprocess indir="${src}" outdir="${tmpsrc}" out="replace" >
    <var name="ZimbraVersion" value="7.2.4" />
    <var name="MajorZimbraVersion"  value="7" />
    <var name="MiddleZimbraVersion" value="2" />
    <var name="MinorZimbraVersion"  value="4" />
    <filetype commentend="*/" commentbegin="/*" extensions="java"/>
  </preprocess>

  <javac includeantruntime="false" debug="true" debuglevel="lines,vars,source" srcdir="${tmpsrc}/" destdir="${build}/" target="1.6" source="1.6">
    <classpath>
      <path refid="zimbra-jars-7.2.4" />
      <path refid="libraries" />
      <pathelement path="${build}" />
    </classpath>
   <compilerarg value="-Xlint:none" />
  </javac>
  <delete dir="${tmpsrc}/"/>

  <jar jarfile="${dist}/zal.jar.unsigned" compress="false">
    <manifest>
      <attribute name="Specification-Title" value="Zimbra Abstraction Layer" />
      <attribute name="Specification-Version" value="1.6.0" />
      <attribute name="Specification-Vendor" value="ZeXtras" />
      <attribute name="Implementation-Version" value="7.2.4" />
      <attribute name="Created-By" value="ZeXtras" />
      <attribute name="Zimbra-Extension-Class" value="org.openzal.zal.extension.ZalEntrypoint" />
    </manifest>
    <fileset dir="${build}" />
  </jar>

  <java dir="." fork="true" classname="org.openzal.zal.tools.ChecksumWriter">
    <classpath>
      <pathelement location="${dist}/zal.jar.unsigned" />
    </classpath>
    <arg value="${dist}/zal.jar" />
  </java>

  <delete file="${dist}/zal.jar.unsigned" />
</target>


<target name="zal-7.2.4-itbase"  description="create test jar" depends="init">

  <var name="itbase_tmpsrc"  value="tmpsrc/7.2.4/itbase/" />
  <var name="itbase_build" value="build/7.2.4/itbase/" />
  <var name="dist"  value="dist/7.2.4/"/>

  <mkdir dir="${itbase_tmpsrc}"/>
  <mkdir dir="${itbase_build}"/>

  <echo>Preprocessing ZAL test library...</echo>
  <preprocess indir="${itbase}" outdir="${itbase_tmpsrc}" out="replace" >
    <var name="ZimbraVersion" value="7.2.4" />
    <var name="MajorZimbraVersion"  value="7" />
    <var name="MiddleZimbraVersion" value="2" />
    <var name="MinorZimbraVersion"  value="4" />
    <filetype commentend="*/" commentbegin="/*" extensions="java"/>
  </preprocess>

  <javac includeantruntime="false" debug="true" debuglevel="lines,vars,source" srcdir="${itbase_tmpsrc}" destdir="${itbase_build}/" target="1.6" source="1.6">
    <classpath>
      <path refid="zimbra-jars-7.2.4" />
      <path refid="libraries" />
      <pathelement location="${dist}/zal.jar" />
      <pathelement location="../dist/zextras.jar" />
    </classpath>
   <compilerarg value="-Xlint:none" />
  </javac>

  <delete dir="${itbase_tmpsrc}/"/>

  <jar jarfile="${dist}/zal-itbase.jar" compress="false">
    <manifest>
      <attribute name="Specification-Title" value="Zimbra Abstraction Layer" />
      <attribute name="Specification-Version" value="1.6.0" />
      <attribute name="Specification-Vendor" value="ZeXtras" />
      <attribute name="Implementation-Version" value="7.2.4" />
      <attribute name="Created-By" value="ZeXtras" />
    </manifest>
    <fileset dir="${itbase_build}" />
  </jar>
</target>


<path id="zimbra-jars-7.2.5">
    <fileset dir="../build-commons/zimbra-jars/zimbra-jars-7.2.5/" >
        <include name="*.jar"/>
    </fileset>
</path>

<target name="zal-7.2.5"  description="create jar" depends="init">

  <var name="tmpsrc"  value="tmpsrc/7.2.5/jar/" />
  <var name="build" value="build/7.2.5/jar/" />
  <var name="dist"  value="dist/7.2.5/"/>

  <mkdir dir="${tmpsrc}"/>
  <mkdir dir="${build}"/>
  <mkdir dir="${dist}"/>

  <echo>Creating zal JAR for zimbra 7.2.5 ...</echo>

  <echo>Preprocessing...</echo>
  <preprocess indir="${src}" outdir="${tmpsrc}" out="replace" >
    <var name="ZimbraVersion" value="7.2.5" />
    <var name="MajorZimbraVersion"  value="7" />
    <var name="MiddleZimbraVersion" value="2" />
    <var name="MinorZimbraVersion"  value="5" />
    <filetype commentend="*/" commentbegin="/*" extensions="java"/>
  </preprocess>

  <javac includeantruntime="false" debug="true" debuglevel="lines,vars,source" srcdir="${tmpsrc}/" destdir="${build}/" target="1.6" source="1.6">
    <classpath>
      <path refid="zimbra-jars-7.2.5" />
      <path refid="libraries" />
      <pathelement path="${build}" />
    </classpath>
   <compilerarg value="-Xlint:none" />
  </javac>
  <delete dir="${tmpsrc}/"/>

  <jar jarfile="${dist}/zal.jar.unsigned" compress="false">
    <manifest>
      <attribute name="Specification-Title" value="Zimbra Abstraction Layer" />
      <attribute name="Specification-Version" value="1.6.0" />
      <attribute name="Specification-Vendor" value="ZeXtras" />
      <attribute name="Implementation-Version" value="7.2.5" />
      <attribute name="Created-By" value="ZeXtras" />
      <attribute name="Zimbra-Extension-Class" value="org.openzal.zal.extension.ZalEntrypoint" />
    </manifest>
    <fileset dir="${build}" />
  </jar>

  <java dir="." fork="true" classname="org.openzal.zal.tools.ChecksumWriter">
    <classpath>
      <pathelement location="${dist}/zal.jar.unsigned" />
    </classpath>
    <arg value="${dist}/zal.jar" />
  </java>

  <delete file="${dist}/zal.jar.unsigned" />
</target>


<target name="zal-7.2.5-itbase"  description="create test jar" depends="init">

  <var name="itbase_tmpsrc"  value="tmpsrc/7.2.5/itbase/" />
  <var name="itbase_build" value="build/7.2.5/itbase/" />
  <var name="dist"  value="dist/7.2.5/"/>

  <mkdir dir="${itbase_tmpsrc}"/>
  <mkdir dir="${itbase_build}"/>

  <echo>Preprocessing ZAL test library...</echo>
  <preprocess indir="${itbase}" outdir="${itbase_tmpsrc}" out="replace" >
    <var name="ZimbraVersion" value="7.2.5" />
    <var name="MajorZimbraVersion"  value="7" />
    <var name="MiddleZimbraVersion" value="2" />
    <var name="MinorZimbraVersion"  value="5" />
    <filetype commentend="*/" commentbegin="/*" extensions="java"/>
  </preprocess>

  <javac includeantruntime="false" debug="true" debuglevel="lines,vars,source" srcdir="${itbase_tmpsrc}" destdir="${itbase_build}/" target="1.6" source="1.6">
    <classpath>
      <path refid="zimbra-jars-7.2.5" />
      <path refid="libraries" />
      <pathelement location="${dist}/zal.jar" />
      <pathelement location="../dist/zextras.jar" />
    </classpath>
   <compilerarg value="-Xlint:none" />
  </javac>

  <delete dir="${itbase_tmpsrc}/"/>

  <jar jarfile="${dist}/zal-itbase.jar" compress="false">
    <manifest>
      <attribute name="Specification-Title" value="Zimbra Abstraction Layer" />
      <attribute name="Specification-Version" value="1.6.0" />
      <attribute name="Specification-Vendor" value="ZeXtras" />
      <attribute name="Implementation-Version" value="7.2.5" />
      <attribute name="Created-By" value="ZeXtras" />
    </manifest>
    <fileset dir="${itbase_build}" />
  </jar>
</target>


<path id="zimbra-jars-7.2.6">
    <fileset dir="../build-commons/zimbra-jars/zimbra-jars-7.2.6/" >
        <include name="*.jar"/>
    </fileset>
</path>

<target name="zal-7.2.6"  description="create jar" depends="init">

  <var name="tmpsrc"  value="tmpsrc/7.2.6/jar/" />
  <var name="build" value="build/7.2.6/jar/" />
  <var name="dist"  value="dist/7.2.6/"/>

  <mkdir dir="${tmpsrc}"/>
  <mkdir dir="${build}"/>
  <mkdir dir="${dist}"/>

  <echo>Creating zal JAR for zimbra 7.2.6 ...</echo>

  <echo>Preprocessing...</echo>
  <preprocess indir="${src}" outdir="${tmpsrc}" out="replace" >
    <var name="ZimbraVersion" value="7.2.6" />
    <var name="MajorZimbraVersion"  value="7" />
    <var name="MiddleZimbraVersion" value="2" />
    <var name="MinorZimbraVersion"  value="6" />
    <filetype commentend="*/" commentbegin="/*" extensions="java"/>
  </preprocess>

  <javac includeantruntime="false" debug="true" debuglevel="lines,vars,source" srcdir="${tmpsrc}/" destdir="${build}/" target="1.6" source="1.6">
    <classpath>
      <path refid="zimbra-jars-7.2.6" />
      <path refid="libraries" />
      <pathelement path="${build}" />
    </classpath>
   <compilerarg value="-Xlint:none" />
  </javac>
  <delete dir="${tmpsrc}/"/>

  <jar jarfile="${dist}/zal.jar.unsigned" compress="false">
    <manifest>
      <attribute name="Specification-Title" value="Zimbra Abstraction Layer" />
      <attribute name="Specification-Version" value="1.6.0" />
      <attribute name="Specification-Vendor" value="ZeXtras" />
      <attribute name="Implementation-Version" value="7.2.6" />
      <attribute name="Created-By" value="ZeXtras" />
      <attribute name="Zimbra-Extension-Class" value="org.openzal.zal.extension.ZalEntrypoint" />
    </manifest>
    <fileset dir="${build}" />
  </jar>

  <java dir="." fork="true" classname="org.openzal.zal.tools.ChecksumWriter">
    <classpath>
      <pathelement location="${dist}/zal.jar.unsigned" />
    </classpath>
    <arg value="${dist}/zal.jar" />
  </java>

  <delete file="${dist}/zal.jar.unsigned" />
</target>


<target name="zal-7.2.6-itbase"  description="create test jar" depends="init">

  <var name="itbase_tmpsrc"  value="tmpsrc/7.2.6/itbase/" />
  <var name="itbase_build" value="build/7.2.6/itbase/" />
  <var name="dist"  value="dist/7.2.6/"/>

  <mkdir dir="${itbase_tmpsrc}"/>
  <mkdir dir="${itbase_build}"/>

  <echo>Preprocessing ZAL test library...</echo>
  <preprocess indir="${itbase}" outdir="${itbase_tmpsrc}" out="replace" >
    <var name="ZimbraVersion" value="7.2.6" />
    <var name="MajorZimbraVersion"  value="7" />
    <var name="MiddleZimbraVersion" value="2" />
    <var name="MinorZimbraVersion"  value="6" />
    <filetype commentend="*/" commentbegin="/*" extensions="java"/>
  </preprocess>

  <javac includeantruntime="false" debug="true" debuglevel="lines,vars,source" srcdir="${itbase_tmpsrc}" destdir="${itbase_build}/" target="1.6" source="1.6">
    <classpath>
      <path refid="zimbra-jars-7.2.6" />
      <path refid="libraries" />
      <pathelement location="${dist}/zal.jar" />
      <pathelement location="../dist/zextras.jar" />
    </classpath>
   <compilerarg value="-Xlint:none" />
  </javac>

  <delete dir="${itbase_tmpsrc}/"/>

  <jar jarfile="${dist}/zal-itbase.jar" compress="false">
    <manifest>
      <attribute name="Specification-Title" value="Zimbra Abstraction Layer" />
      <attribute name="Specification-Version" value="1.6.0" />
      <attribute name="Specification-Vendor" value="ZeXtras" />
      <attribute name="Implementation-Version" value="7.2.6" />
      <attribute name="Created-By" value="ZeXtras" />
    </manifest>
    <fileset dir="${itbase_build}" />
  </jar>
</target>


<path id="zimbra-jars-7.2.7">
    <fileset dir="../build-commons/zimbra-jars/zimbra-jars-7.2.7/" >
        <include name="*.jar"/>
    </fileset>
</path>

<target name="zal-7.2.7"  description="create jar" depends="init">

  <var name="tmpsrc"  value="tmpsrc/7.2.7/jar/" />
  <var name="build" value="build/7.2.7/jar/" />
  <var name="dist"  value="dist/7.2.7/"/>

  <mkdir dir="${tmpsrc}"/>
  <mkdir dir="${build}"/>
  <mkdir dir="${dist}"/>

  <echo>Creating zal JAR for zimbra 7.2.7 ...</echo>

  <echo>Preprocessing...</echo>
  <preprocess indir="${src}" outdir="${tmpsrc}" out="replace" >
    <var name="ZimbraVersion" value="7.2.7" />
    <var name="MajorZimbraVersion"  value="7" />
    <var name="MiddleZimbraVersion" value="2" />
    <var name="MinorZimbraVersion"  value="7" />
    <filetype commentend="*/" commentbegin="/*" extensions="java"/>
  </preprocess>

  <javac includeantruntime="false" debug="true" debuglevel="lines,vars,source" srcdir="${tmpsrc}/" destdir="${build}/" target="1.6" source="1.6">
    <classpath>
      <path refid="zimbra-jars-7.2.7" />
      <path refid="libraries" />
      <pathelement path="${build}" />
    </classpath>
   <compilerarg value="-Xlint:none" />
  </javac>
  <delete dir="${tmpsrc}/"/>

  <jar jarfile="${dist}/zal.jar.unsigned" compress="false">
    <manifest>
      <attribute name="Specification-Title" value="Zimbra Abstraction Layer" />
      <attribute name="Specification-Version" value="1.6.0" />
      <attribute name="Specification-Vendor" value="ZeXtras" />
      <attribute name="Implementation-Version" value="7.2.7" />
      <attribute name="Created-By" value="ZeXtras" />
      <attribute name="Zimbra-Extension-Class" value="org.openzal.zal.extension.ZalEntrypoint" />
    </manifest>
    <fileset dir="${build}" />
  </jar>

  <java dir="." fork="true" classname="org.openzal.zal.tools.ChecksumWriter">
    <classpath>
      <pathelement location="${dist}/zal.jar.unsigned" />
    </classpath>
    <arg value="${dist}/zal.jar" />
  </java>

  <delete file="${dist}/zal.jar.unsigned" />
</target>


<target name="zal-7.2.7-itbase"  description="create test jar" depends="init">

  <var name="itbase_tmpsrc"  value="tmpsrc/7.2.7/itbase/" />
  <var name="itbase_build" value="build/7.2.7/itbase/" />
  <var name="dist"  value="dist/7.2.7/"/>

  <mkdir dir="${itbase_tmpsrc}"/>
  <mkdir dir="${itbase_build}"/>

  <echo>Preprocessing ZAL test library...</echo>
  <preprocess indir="${itbase}" outdir="${itbase_tmpsrc}" out="replace" >
    <var name="ZimbraVersion" value="7.2.7" />
    <var name="MajorZimbraVersion"  value="7" />
    <var name="MiddleZimbraVersion" value="2" />
    <var name="MinorZimbraVersion"  value="7" />
    <filetype commentend="*/" commentbegin="/*" extensions="java"/>
  </preprocess>

  <javac includeantruntime="false" debug="true" debuglevel="lines,vars,source" srcdir="${itbase_tmpsrc}" destdir="${itbase_build}/" target="1.6" source="1.6">
    <classpath>
      <path refid="zimbra-jars-7.2.7" />
      <path refid="libraries" />
      <pathelement location="${dist}/zal.jar" />
      <pathelement location="../dist/zextras.jar" />
    </classpath>
   <compilerarg value="-Xlint:none" />
  </javac>

  <delete dir="${itbase_tmpsrc}/"/>

  <jar jarfile="${dist}/zal-itbase.jar" compress="false">
    <manifest>
      <attribute name="Specification-Title" value="Zimbra Abstraction Layer" />
      <attribute name="Specification-Version" value="1.6.0" />
      <attribute name="Specification-Vendor" value="ZeXtras" />
      <attribute name="Implementation-Version" value="7.2.7" />
      <attribute name="Created-By" value="ZeXtras" />
    </manifest>
    <fileset dir="${itbase_build}" />
  </jar>
</target>


<path id="zimbra-jars-8.0.0">
    <fileset dir="../build-commons/zimbra-jars/zimbra-jars-8.0.0/" >
        <include name="*.jar"/>
    </fileset>
</path>

<target name="zal-8.0.0"  description="create jar" depends="init">

  <var name="tmpsrc"  value="tmpsrc/8.0.0/jar/" />
  <var name="build" value="build/8.0.0/jar/" />
  <var name="dist"  value="dist/8.0.0/"/>

  <mkdir dir="${tmpsrc}"/>
  <mkdir dir="${build}"/>
  <mkdir dir="${dist}"/>

  <echo>Creating zal JAR for zimbra 8.0.0 ...</echo>

  <echo>Preprocessing...</echo>
  <preprocess indir="${src}" outdir="${tmpsrc}" out="replace" >
    <var name="ZimbraVersion" value="8.0.0" />
    <var name="MajorZimbraVersion"  value="8" />
    <var name="MiddleZimbraVersion" value="0" />
    <var name="MinorZimbraVersion"  value="0" />
    <filetype commentend="*/" commentbegin="/*" extensions="java"/>
  </preprocess>

  <javac includeantruntime="false" debug="true" debuglevel="lines,vars,source" srcdir="${tmpsrc}/" destdir="${build}/" target="1.6" source="1.6">
    <classpath>
      <path refid="zimbra-jars-8.0.0" />
      <path refid="libraries" />
      <pathelement path="${build}" />
    </classpath>
   <compilerarg value="-Xlint:none" />
  </javac>
  <delete dir="${tmpsrc}/"/>

  <jar jarfile="${dist}/zal.jar.unsigned" compress="false">
    <manifest>
      <attribute name="Specification-Title" value="Zimbra Abstraction Layer" />
      <attribute name="Specification-Version" value="1.6.0" />
      <attribute name="Specification-Vendor" value="ZeXtras" />
      <attribute name="Implementation-Version" value="8.0.0" />
      <attribute name="Created-By" value="ZeXtras" />
      <attribute name="Zimbra-Extension-Class" value="org.openzal.zal.extension.ZalEntrypoint" />
    </manifest>
    <fileset dir="${build}" />
  </jar>

  <java dir="." fork="true" classname="org.openzal.zal.tools.ChecksumWriter">
    <classpath>
      <pathelement location="${dist}/zal.jar.unsigned" />
    </classpath>
    <arg value="${dist}/zal.jar" />
  </java>

  <delete file="${dist}/zal.jar.unsigned" />
</target>


<target name="zal-8.0.0-itbase"  description="create test jar" depends="init">

  <var name="itbase_tmpsrc"  value="tmpsrc/8.0.0/itbase/" />
  <var name="itbase_build" value="build/8.0.0/itbase/" />
  <var name="dist"  value="dist/8.0.0/"/>

  <mkdir dir="${itbase_tmpsrc}"/>
  <mkdir dir="${itbase_build}"/>

  <echo>Preprocessing ZAL test library...</echo>
  <preprocess indir="${itbase}" outdir="${itbase_tmpsrc}" out="replace" >
    <var name="ZimbraVersion" value="8.0.0" />
    <var name="MajorZimbraVersion"  value="8" />
    <var name="MiddleZimbraVersion" value="0" />
    <var name="MinorZimbraVersion"  value="0" />
    <filetype commentend="*/" commentbegin="/*" extensions="java"/>
  </preprocess>

  <javac includeantruntime="false" debug="true" debuglevel="lines,vars,source" srcdir="${itbase_tmpsrc}" destdir="${itbase_build}/" target="1.6" source="1.6">
    <classpath>
      <path refid="zimbra-jars-8.0.0" />
      <path refid="libraries" />
      <pathelement location="${dist}/zal.jar" />
      <pathelement location="../dist/zextras.jar" />
    </classpath>
   <compilerarg value="-Xlint:none" />
  </javac>

  <delete dir="${itbase_tmpsrc}/"/>

  <jar jarfile="${dist}/zal-itbase.jar" compress="false">
    <manifest>
      <attribute name="Specification-Title" value="Zimbra Abstraction Layer" />
      <attribute name="Specification-Version" value="1.6.0" />
      <attribute name="Specification-Vendor" value="ZeXtras" />
      <attribute name="Implementation-Version" value="8.0.0" />
      <attribute name="Created-By" value="ZeXtras" />
    </manifest>
    <fileset dir="${itbase_build}" />
  </jar>
</target>


<path id="zimbra-jars-8.0.1">
    <fileset dir="../build-commons/zimbra-jars/zimbra-jars-8.0.1/" >
        <include name="*.jar"/>
    </fileset>
</path>

<target name="zal-8.0.1"  description="create jar" depends="init">

  <var name="tmpsrc"  value="tmpsrc/8.0.1/jar/" />
  <var name="build" value="build/8.0.1/jar/" />
  <var name="dist"  value="dist/8.0.1/"/>

  <mkdir dir="${tmpsrc}"/>
  <mkdir dir="${build}"/>
  <mkdir dir="${dist}"/>

  <echo>Creating zal JAR for zimbra 8.0.1 ...</echo>

  <echo>Preprocessing...</echo>
  <preprocess indir="${src}" outdir="${tmpsrc}" out="replace" >
    <var name="ZimbraVersion" value="8.0.1" />
    <var name="MajorZimbraVersion"  value="8" />
    <var name="MiddleZimbraVersion" value="0" />
    <var name="MinorZimbraVersion"  value="1" />
    <filetype commentend="*/" commentbegin="/*" extensions="java"/>
  </preprocess>

  <javac includeantruntime="false" debug="true" debuglevel="lines,vars,source" srcdir="${tmpsrc}/" destdir="${build}/" target="1.6" source="1.6">
    <classpath>
      <path refid="zimbra-jars-8.0.1" />
      <path refid="libraries" />
      <pathelement path="${build}" />
    </classpath>
   <compilerarg value="-Xlint:none" />
  </javac>
  <delete dir="${tmpsrc}/"/>

  <jar jarfile="${dist}/zal.jar.unsigned" compress="false">
    <manifest>
      <attribute name="Specification-Title" value="Zimbra Abstraction Layer" />
      <attribute name="Specification-Version" value="1.6.0" />
      <attribute name="Specification-Vendor" value="ZeXtras" />
      <attribute name="Implementation-Version" value="8.0.1" />
      <attribute name="Created-By" value="ZeXtras" />
      <attribute name="Zimbra-Extension-Class" value="org.openzal.zal.extension.ZalEntrypoint" />
    </manifest>
    <fileset dir="${build}" />
  </jar>

  <java dir="." fork="true" classname="org.openzal.zal.tools.ChecksumWriter">
    <classpath>
      <pathelement location="${dist}/zal.jar.unsigned" />
    </classpath>
    <arg value="${dist}/zal.jar" />
  </java>

  <delete file="${dist}/zal.jar.unsigned" />
</target>


<target name="zal-8.0.1-itbase"  description="create test jar" depends="init">

  <var name="itbase_tmpsrc"  value="tmpsrc/8.0.1/itbase/" />
  <var name="itbase_build" value="build/8.0.1/itbase/" />
  <var name="dist"  value="dist/8.0.1/"/>

  <mkdir dir="${itbase_tmpsrc}"/>
  <mkdir dir="${itbase_build}"/>

  <echo>Preprocessing ZAL test library...</echo>
  <preprocess indir="${itbase}" outdir="${itbase_tmpsrc}" out="replace" >
    <var name="ZimbraVersion" value="8.0.1" />
    <var name="MajorZimbraVersion"  value="8" />
    <var name="MiddleZimbraVersion" value="0" />
    <var name="MinorZimbraVersion"  value="1" />
    <filetype commentend="*/" commentbegin="/*" extensions="java"/>
  </preprocess>

  <javac includeantruntime="false" debug="true" debuglevel="lines,vars,source" srcdir="${itbase_tmpsrc}" destdir="${itbase_build}/" target="1.6" source="1.6">
    <classpath>
      <path refid="zimbra-jars-8.0.1" />
      <path refid="libraries" />
      <pathelement location="${dist}/zal.jar" />
      <pathelement location="../dist/zextras.jar" />
    </classpath>
   <compilerarg value="-Xlint:none" />
  </javac>

  <delete dir="${itbase_tmpsrc}/"/>

  <jar jarfile="${dist}/zal-itbase.jar" compress="false">
    <manifest>
      <attribute name="Specification-Title" value="Zimbra Abstraction Layer" />
      <attribute name="Specification-Version" value="1.6.0" />
      <attribute name="Specification-Vendor" value="ZeXtras" />
      <attribute name="Implementation-Version" value="8.0.1" />
      <attribute name="Created-By" value="ZeXtras" />
    </manifest>
    <fileset dir="${itbase_build}" />
  </jar>
</target>


<path id="zimbra-jars-8.0.2">
    <fileset dir="../build-commons/zimbra-jars/zimbra-jars-8.0.2/" >
        <include name="*.jar"/>
    </fileset>
</path>

<target name="zal-8.0.2"  description="create jar" depends="init">

  <var name="tmpsrc"  value="tmpsrc/8.0.2/jar/" />
  <var name="build" value="build/8.0.2/jar/" />
  <var name="dist"  value="dist/8.0.2/"/>

  <mkdir dir="${tmpsrc}"/>
  <mkdir dir="${build}"/>
  <mkdir dir="${dist}"/>

  <echo>Creating zal JAR for zimbra 8.0.2 ...</echo>

  <echo>Preprocessing...</echo>
  <preprocess indir="${src}" outdir="${tmpsrc}" out="replace" >
    <var name="ZimbraVersion" value="8.0.2" />
    <var name="MajorZimbraVersion"  value="8" />
    <var name="MiddleZimbraVersion" value="0" />
    <var name="MinorZimbraVersion"  value="2" />
    <filetype commentend="*/" commentbegin="/*" extensions="java"/>
  </preprocess>

  <javac includeantruntime="false" debug="true" debuglevel="lines,vars,source" srcdir="${tmpsrc}/" destdir="${build}/" target="1.6" source="1.6">
    <classpath>
      <path refid="zimbra-jars-8.0.2" />
      <path refid="libraries" />
      <pathelement path="${build}" />
    </classpath>
   <compilerarg value="-Xlint:none" />
  </javac>
  <delete dir="${tmpsrc}/"/>

  <jar jarfile="${dist}/zal.jar.unsigned" compress="false">
    <manifest>
      <attribute name="Specification-Title" value="Zimbra Abstraction Layer" />
      <attribute name="Specification-Version" value="1.6.0" />
      <attribute name="Specification-Vendor" value="ZeXtras" />
      <attribute name="Implementation-Version" value="8.0.2" />
      <attribute name="Created-By" value="ZeXtras" />
      <attribute name="Zimbra-Extension-Class" value="org.openzal.zal.extension.ZalEntrypoint" />
    </manifest>
    <fileset dir="${build}" />
  </jar>

  <java dir="." fork="true" classname="org.openzal.zal.tools.ChecksumWriter">
    <classpath>
      <pathelement location="${dist}/zal.jar.unsigned" />
    </classpath>
    <arg value="${dist}/zal.jar" />
  </java>

  <delete file="${dist}/zal.jar.unsigned" />
</target>


<target name="zal-8.0.2-itbase"  description="create test jar" depends="init">

  <var name="itbase_tmpsrc"  value="tmpsrc/8.0.2/itbase/" />
  <var name="itbase_build" value="build/8.0.2/itbase/" />
  <var name="dist"  value="dist/8.0.2/"/>

  <mkdir dir="${itbase_tmpsrc}"/>
  <mkdir dir="${itbase_build}"/>

  <echo>Preprocessing ZAL test library...</echo>
  <preprocess indir="${itbase}" outdir="${itbase_tmpsrc}" out="replace" >
    <var name="ZimbraVersion" value="8.0.2" />
    <var name="MajorZimbraVersion"  value="8" />
    <var name="MiddleZimbraVersion" value="0" />
    <var name="MinorZimbraVersion"  value="2" />
    <filetype commentend="*/" commentbegin="/*" extensions="java"/>
  </preprocess>

  <javac includeantruntime="false" debug="true" debuglevel="lines,vars,source" srcdir="${itbase_tmpsrc}" destdir="${itbase_build}/" target="1.6" source="1.6">
    <classpath>
      <path refid="zimbra-jars-8.0.2" />
      <path refid="libraries" />
      <pathelement location="${dist}/zal.jar" />
      <pathelement location="../dist/zextras.jar" />
    </classpath>
   <compilerarg value="-Xlint:none" />
  </javac>

  <delete dir="${itbase_tmpsrc}/"/>

  <jar jarfile="${dist}/zal-itbase.jar" compress="false">
    <manifest>
      <attribute name="Specification-Title" value="Zimbra Abstraction Layer" />
      <attribute name="Specification-Version" value="1.6.0" />
      <attribute name="Specification-Vendor" value="ZeXtras" />
      <attribute name="Implementation-Version" value="8.0.2" />
      <attribute name="Created-By" value="ZeXtras" />
    </manifest>
    <fileset dir="${itbase_build}" />
  </jar>
</target>


<path id="zimbra-jars-8.0.3">
    <fileset dir="../build-commons/zimbra-jars/zimbra-jars-8.0.3/" >
        <include name="*.jar"/>
    </fileset>
</path>

<target name="zal-8.0.3"  description="create jar" depends="init">

  <var name="tmpsrc"  value="tmpsrc/8.0.3/jar/" />
  <var name="build" value="build/8.0.3/jar/" />
  <var name="dist"  value="dist/8.0.3/"/>

  <mkdir dir="${tmpsrc}"/>
  <mkdir dir="${build}"/>
  <mkdir dir="${dist}"/>

  <echo>Creating zal JAR for zimbra 8.0.3 ...</echo>

  <echo>Preprocessing...</echo>
  <preprocess indir="${src}" outdir="${tmpsrc}" out="replace" >
    <var name="ZimbraVersion" value="8.0.3" />
    <var name="MajorZimbraVersion"  value="8" />
    <var name="MiddleZimbraVersion" value="0" />
    <var name="MinorZimbraVersion"  value="3" />
    <filetype commentend="*/" commentbegin="/*" extensions="java"/>
  </preprocess>

  <javac includeantruntime="false" debug="true" debuglevel="lines,vars,source" srcdir="${tmpsrc}/" destdir="${build}/" target="1.6" source="1.6">
    <classpath>
      <path refid="zimbra-jars-8.0.3" />
      <path refid="libraries" />
      <pathelement path="${build}" />
    </classpath>
   <compilerarg value="-Xlint:none" />
  </javac>
  <delete dir="${tmpsrc}/"/>

  <jar jarfile="${dist}/zal.jar.unsigned" compress="false">
    <manifest>
      <attribute name="Specification-Title" value="Zimbra Abstraction Layer" />
      <attribute name="Specification-Version" value="1.6.0" />
      <attribute name="Specification-Vendor" value="ZeXtras" />
      <attribute name="Implementation-Version" value="8.0.3" />
      <attribute name="Created-By" value="ZeXtras" />
      <attribute name="Zimbra-Extension-Class" value="org.openzal.zal.extension.ZalEntrypoint" />
    </manifest>
    <fileset dir="${build}" />
  </jar>

  <java dir="." fork="true" classname="org.openzal.zal.tools.ChecksumWriter">
    <classpath>
      <pathelement location="${dist}/zal.jar.unsigned" />
    </classpath>
    <arg value="${dist}/zal.jar" />
  </java>

  <delete file="${dist}/zal.jar.unsigned" />
</target>


<target name="zal-8.0.3-itbase"  description="create test jar" depends="init">

  <var name="itbase_tmpsrc"  value="tmpsrc/8.0.3/itbase/" />
  <var name="itbase_build" value="build/8.0.3/itbase/" />
  <var name="dist"  value="dist/8.0.3/"/>

  <mkdir dir="${itbase_tmpsrc}"/>
  <mkdir dir="${itbase_build}"/>

  <echo>Preprocessing ZAL test library...</echo>
  <preprocess indir="${itbase}" outdir="${itbase_tmpsrc}" out="replace" >
    <var name="ZimbraVersion" value="8.0.3" />
    <var name="MajorZimbraVersion"  value="8" />
    <var name="MiddleZimbraVersion" value="0" />
    <var name="MinorZimbraVersion"  value="3" />
    <filetype commentend="*/" commentbegin="/*" extensions="java"/>
  </preprocess>

  <javac includeantruntime="false" debug="true" debuglevel="lines,vars,source" srcdir="${itbase_tmpsrc}" destdir="${itbase_build}/" target="1.6" source="1.6">
    <classpath>
      <path refid="zimbra-jars-8.0.3" />
      <path refid="libraries" />
      <pathelement location="${dist}/zal.jar" />
      <pathelement location="../dist/zextras.jar" />
    </classpath>
   <compilerarg value="-Xlint:none" />
  </javac>

  <delete dir="${itbase_tmpsrc}/"/>

  <jar jarfile="${dist}/zal-itbase.jar" compress="false">
    <manifest>
      <attribute name="Specification-Title" value="Zimbra Abstraction Layer" />
      <attribute name="Specification-Version" value="1.6.0" />
      <attribute name="Specification-Vendor" value="ZeXtras" />
      <attribute name="Implementation-Version" value="8.0.3" />
      <attribute name="Created-By" value="ZeXtras" />
    </manifest>
    <fileset dir="${itbase_build}" />
  </jar>
</target>


<path id="zimbra-jars-8.0.4">
    <fileset dir="../build-commons/zimbra-jars/zimbra-jars-8.0.4/" >
        <include name="*.jar"/>
    </fileset>
</path>

<target name="zal-8.0.4"  description="create jar" depends="init">

  <var name="tmpsrc"  value="tmpsrc/8.0.4/jar/" />
  <var name="build" value="build/8.0.4/jar/" />
  <var name="dist"  value="dist/8.0.4/"/>

  <mkdir dir="${tmpsrc}"/>
  <mkdir dir="${build}"/>
  <mkdir dir="${dist}"/>

  <echo>Creating zal JAR for zimbra 8.0.4 ...</echo>

  <echo>Preprocessing...</echo>
  <preprocess indir="${src}" outdir="${tmpsrc}" out="replace" >
    <var name="ZimbraVersion" value="8.0.4" />
    <var name="MajorZimbraVersion"  value="8" />
    <var name="MiddleZimbraVersion" value="0" />
    <var name="MinorZimbraVersion"  value="4" />
    <filetype commentend="*/" commentbegin="/*" extensions="java"/>
  </preprocess>

  <javac includeantruntime="false" debug="true" debuglevel="lines,vars,source" srcdir="${tmpsrc}/" destdir="${build}/" target="1.6" source="1.6">
    <classpath>
      <path refid="zimbra-jars-8.0.4" />
      <path refid="libraries" />
      <pathelement path="${build}" />
    </classpath>
   <compilerarg value="-Xlint:none" />
  </javac>
  <delete dir="${tmpsrc}/"/>

  <jar jarfile="${dist}/zal.jar.unsigned" compress="false">
    <manifest>
      <attribute name="Specification-Title" value="Zimbra Abstraction Layer" />
      <attribute name="Specification-Version" value="1.6.0" />
      <attribute name="Specification-Vendor" value="ZeXtras" />
      <attribute name="Implementation-Version" value="8.0.4" />
      <attribute name="Created-By" value="ZeXtras" />
      <attribute name="Zimbra-Extension-Class" value="org.openzal.zal.extension.ZalEntrypoint" />
    </manifest>
    <fileset dir="${build}" />
  </jar>

  <java dir="." fork="true" classname="org.openzal.zal.tools.ChecksumWriter">
    <classpath>
      <pathelement location="${dist}/zal.jar.unsigned" />
    </classpath>
    <arg value="${dist}/zal.jar" />
  </java>

  <delete file="${dist}/zal.jar.unsigned" />
</target>


<target name="zal-8.0.4-itbase"  description="create test jar" depends="init">

  <var name="itbase_tmpsrc"  value="tmpsrc/8.0.4/itbase/" />
  <var name="itbase_build" value="build/8.0.4/itbase/" />
  <var name="dist"  value="dist/8.0.4/"/>

  <mkdir dir="${itbase_tmpsrc}"/>
  <mkdir dir="${itbase_build}"/>

  <echo>Preprocessing ZAL test library...</echo>
  <preprocess indir="${itbase}" outdir="${itbase_tmpsrc}" out="replace" >
    <var name="ZimbraVersion" value="8.0.4" />
    <var name="MajorZimbraVersion"  value="8" />
    <var name="MiddleZimbraVersion" value="0" />
    <var name="MinorZimbraVersion"  value="4" />
    <filetype commentend="*/" commentbegin="/*" extensions="java"/>
  </preprocess>

  <javac includeantruntime="false" debug="true" debuglevel="lines,vars,source" srcdir="${itbase_tmpsrc}" destdir="${itbase_build}/" target="1.6" source="1.6">
    <classpath>
      <path refid="zimbra-jars-8.0.4" />
      <path refid="libraries" />
      <pathelement location="${dist}/zal.jar" />
      <pathelement location="../dist/zextras.jar" />
    </classpath>
   <compilerarg value="-Xlint:none" />
  </javac>

  <delete dir="${itbase_tmpsrc}/"/>

  <jar jarfile="${dist}/zal-itbase.jar" compress="false">
    <manifest>
      <attribute name="Specification-Title" value="Zimbra Abstraction Layer" />
      <attribute name="Specification-Version" value="1.6.0" />
      <attribute name="Specification-Vendor" value="ZeXtras" />
      <attribute name="Implementation-Version" value="8.0.4" />
      <attribute name="Created-By" value="ZeXtras" />
    </manifest>
    <fileset dir="${itbase_build}" />
  </jar>
</target>


<path id="zimbra-jars-8.0.5">
    <fileset dir="../build-commons/zimbra-jars/zimbra-jars-8.0.5/" >
        <include name="*.jar"/>
    </fileset>
</path>

<target name="zal-8.0.5"  description="create jar" depends="init">

  <var name="tmpsrc"  value="tmpsrc/8.0.5/jar/" />
  <var name="build" value="build/8.0.5/jar/" />
  <var name="dist"  value="dist/8.0.5/"/>

  <mkdir dir="${tmpsrc}"/>
  <mkdir dir="${build}"/>
  <mkdir dir="${dist}"/>

  <echo>Creating zal JAR for zimbra 8.0.5 ...</echo>

  <echo>Preprocessing...</echo>
  <preprocess indir="${src}" outdir="${tmpsrc}" out="replace" >
    <var name="ZimbraVersion" value="8.0.5" />
    <var name="MajorZimbraVersion"  value="8" />
    <var name="MiddleZimbraVersion" value="0" />
    <var name="MinorZimbraVersion"  value="5" />
    <filetype commentend="*/" commentbegin="/*" extensions="java"/>
  </preprocess>

  <javac includeantruntime="false" debug="true" debuglevel="lines,vars,source" srcdir="${tmpsrc}/" destdir="${build}/" target="1.6" source="1.6">
    <classpath>
      <path refid="zimbra-jars-8.0.5" />
      <path refid="libraries" />
      <pathelement path="${build}" />
    </classpath>
   <compilerarg value="-Xlint:none" />
  </javac>
  <delete dir="${tmpsrc}/"/>

  <jar jarfile="${dist}/zal.jar.unsigned" compress="false">
    <manifest>
      <attribute name="Specification-Title" value="Zimbra Abstraction Layer" />
      <attribute name="Specification-Version" value="1.6.0" />
      <attribute name="Specification-Vendor" value="ZeXtras" />
      <attribute name="Implementation-Version" value="8.0.5" />
      <attribute name="Created-By" value="ZeXtras" />
      <attribute name="Zimbra-Extension-Class" value="org.openzal.zal.extension.ZalEntrypoint" />
    </manifest>
    <fileset dir="${build}" />
  </jar>

  <java dir="." fork="true" classname="org.openzal.zal.tools.ChecksumWriter">
    <classpath>
      <pathelement location="${dist}/zal.jar.unsigned" />
    </classpath>
    <arg value="${dist}/zal.jar" />
  </java>

  <delete file="${dist}/zal.jar.unsigned" />
</target>


<target name="zal-8.0.5-itbase"  description="create test jar" depends="init">

  <var name="itbase_tmpsrc"  value="tmpsrc/8.0.5/itbase/" />
  <var name="itbase_build" value="build/8.0.5/itbase/" />
  <var name="dist"  value="dist/8.0.5/"/>

  <mkdir dir="${itbase_tmpsrc}"/>
  <mkdir dir="${itbase_build}"/>

  <echo>Preprocessing ZAL test library...</echo>
  <preprocess indir="${itbase}" outdir="${itbase_tmpsrc}" out="replace" >
    <var name="ZimbraVersion" value="8.0.5" />
    <var name="MajorZimbraVersion"  value="8" />
    <var name="MiddleZimbraVersion" value="0" />
    <var name="MinorZimbraVersion"  value="5" />
    <filetype commentend="*/" commentbegin="/*" extensions="java"/>
  </preprocess>

  <javac includeantruntime="false" debug="true" debuglevel="lines,vars,source" srcdir="${itbase_tmpsrc}" destdir="${itbase_build}/" target="1.6" source="1.6">
    <classpath>
      <path refid="zimbra-jars-8.0.5" />
      <path refid="libraries" />
      <pathelement location="${dist}/zal.jar" />
      <pathelement location="../dist/zextras.jar" />
    </classpath>
   <compilerarg value="-Xlint:none" />
  </javac>

  <delete dir="${itbase_tmpsrc}/"/>

  <jar jarfile="${dist}/zal-itbase.jar" compress="false">
    <manifest>
      <attribute name="Specification-Title" value="Zimbra Abstraction Layer" />
      <attribute name="Specification-Version" value="1.6.0" />
      <attribute name="Specification-Vendor" value="ZeXtras" />
      <attribute name="Implementation-Version" value="8.0.5" />
      <attribute name="Created-By" value="ZeXtras" />
    </manifest>
    <fileset dir="${itbase_build}" />
  </jar>
</target>


<path id="zimbra-jars-8.0.6">
    <fileset dir="../build-commons/zimbra-jars/zimbra-jars-8.0.6/" >
        <include name="*.jar"/>
    </fileset>
</path>

<target name="zal-8.0.6"  description="create jar" depends="init">

  <var name="tmpsrc"  value="tmpsrc/8.0.6/jar/" />
  <var name="build" value="build/8.0.6/jar/" />
  <var name="dist"  value="dist/8.0.6/"/>

  <mkdir dir="${tmpsrc}"/>
  <mkdir dir="${build}"/>
  <mkdir dir="${dist}"/>

  <echo>Creating zal JAR for zimbra 8.0.6 ...</echo>

  <echo>Preprocessing...</echo>
  <preprocess indir="${src}" outdir="${tmpsrc}" out="replace" >
    <var name="ZimbraVersion" value="8.0.6" />
    <var name="MajorZimbraVersion"  value="8" />
    <var name="MiddleZimbraVersion" value="0" />
    <var name="MinorZimbraVersion"  value="6" />
    <filetype commentend="*/" commentbegin="/*" extensions="java"/>
  </preprocess>

  <javac includeantruntime="false" debug="true" debuglevel="lines,vars,source" srcdir="${tmpsrc}/" destdir="${build}/" target="1.6" source="1.6">
    <classpath>
      <path refid="zimbra-jars-8.0.6" />
      <path refid="libraries" />
      <pathelement path="${build}" />
    </classpath>
   <compilerarg value="-Xlint:none" />
  </javac>
  <delete dir="${tmpsrc}/"/>

  <jar jarfile="${dist}/zal.jar.unsigned" compress="false">
    <manifest>
      <attribute name="Specification-Title" value="Zimbra Abstraction Layer" />
      <attribute name="Specification-Version" value="1.6.0" />
      <attribute name="Specification-Vendor" value="ZeXtras" />
      <attribute name="Implementation-Version" value="8.0.6" />
      <attribute name="Created-By" value="ZeXtras" />
      <attribute name="Zimbra-Extension-Class" value="org.openzal.zal.extension.ZalEntrypoint" />
    </manifest>
    <fileset dir="${build}" />
  </jar>

  <java dir="." fork="true" classname="org.openzal.zal.tools.ChecksumWriter">
    <classpath>
      <pathelement location="${dist}/zal.jar.unsigned" />
    </classpath>
    <arg value="${dist}/zal.jar" />
  </java>

  <delete file="${dist}/zal.jar.unsigned" />
</target>


<target name="zal-8.0.6-itbase"  description="create test jar" depends="init">

  <var name="itbase_tmpsrc"  value="tmpsrc/8.0.6/itbase/" />
  <var name="itbase_build" value="build/8.0.6/itbase/" />
  <var name="dist"  value="dist/8.0.6/"/>

  <mkdir dir="${itbase_tmpsrc}"/>
  <mkdir dir="${itbase_build}"/>

  <echo>Preprocessing ZAL test library...</echo>
  <preprocess indir="${itbase}" outdir="${itbase_tmpsrc}" out="replace" >
    <var name="ZimbraVersion" value="8.0.6" />
    <var name="MajorZimbraVersion"  value="8" />
    <var name="MiddleZimbraVersion" value="0" />
    <var name="MinorZimbraVersion"  value="6" />
    <filetype commentend="*/" commentbegin="/*" extensions="java"/>
  </preprocess>

  <javac includeantruntime="false" debug="true" debuglevel="lines,vars,source" srcdir="${itbase_tmpsrc}" destdir="${itbase_build}/" target="1.6" source="1.6">
    <classpath>
      <path refid="zimbra-jars-8.0.6" />
      <path refid="libraries" />
      <pathelement location="${dist}/zal.jar" />
      <pathelement location="../dist/zextras.jar" />
    </classpath>
   <compilerarg value="-Xlint:none" />
  </javac>

  <delete dir="${itbase_tmpsrc}/"/>

  <jar jarfile="${dist}/zal-itbase.jar" compress="false">
    <manifest>
      <attribute name="Specification-Title" value="Zimbra Abstraction Layer" />
      <attribute name="Specification-Version" value="1.6.0" />
      <attribute name="Specification-Vendor" value="ZeXtras" />
      <attribute name="Implementation-Version" value="8.0.6" />
      <attribute name="Created-By" value="ZeXtras" />
    </manifest>
    <fileset dir="${itbase_build}" />
  </jar>
</target>


<path id="zimbra-jars-8.0.7">
    <fileset dir="../build-commons/zimbra-jars/zimbra-jars-8.0.7/" >
        <include name="*.jar"/>
    </fileset>
</path>

<target name="zal-8.0.7"  description="create jar" depends="init">

  <var name="tmpsrc"  value="tmpsrc/8.0.7/jar/" />
  <var name="build" value="build/8.0.7/jar/" />
  <var name="dist"  value="dist/8.0.7/"/>

  <mkdir dir="${tmpsrc}"/>
  <mkdir dir="${build}"/>
  <mkdir dir="${dist}"/>

  <echo>Creating zal JAR for zimbra 8.0.7 ...</echo>

  <echo>Preprocessing...</echo>
  <preprocess indir="${src}" outdir="${tmpsrc}" out="replace" >
    <var name="ZimbraVersion" value="8.0.7" />
    <var name="MajorZimbraVersion"  value="8" />
    <var name="MiddleZimbraVersion" value="0" />
    <var name="MinorZimbraVersion"  value="7" />
    <filetype commentend="*/" commentbegin="/*" extensions="java"/>
  </preprocess>

  <javac includeantruntime="false" debug="true" debuglevel="lines,vars,source" srcdir="${tmpsrc}/" destdir="${build}/" target="1.6" source="1.6">
    <classpath>
      <path refid="zimbra-jars-8.0.7" />
      <path refid="libraries" />
      <pathelement path="${build}" />
    </classpath>
   <compilerarg value="-Xlint:none" />
  </javac>
  <delete dir="${tmpsrc}/"/>

  <jar jarfile="${dist}/zal.jar.unsigned" compress="false">
    <manifest>
      <attribute name="Specification-Title" value="Zimbra Abstraction Layer" />
      <attribute name="Specification-Version" value="1.6.0" />
      <attribute name="Specification-Vendor" value="ZeXtras" />
      <attribute name="Implementation-Version" value="8.0.7" />
      <attribute name="Created-By" value="ZeXtras" />
      <attribute name="Zimbra-Extension-Class" value="org.openzal.zal.extension.ZalEntrypoint" />
    </manifest>
    <fileset dir="${build}" />
  </jar>

  <java dir="." fork="true" classname="org.openzal.zal.tools.ChecksumWriter">
    <classpath>
      <pathelement location="${dist}/zal.jar.unsigned" />
    </classpath>
    <arg value="${dist}/zal.jar" />
  </java>

  <delete file="${dist}/zal.jar.unsigned" />
</target>


<target name="zal-8.0.7-itbase"  description="create test jar" depends="init">

  <var name="itbase_tmpsrc"  value="tmpsrc/8.0.7/itbase/" />
  <var name="itbase_build" value="build/8.0.7/itbase/" />
  <var name="dist"  value="dist/8.0.7/"/>

  <mkdir dir="${itbase_tmpsrc}"/>
  <mkdir dir="${itbase_build}"/>

  <echo>Preprocessing ZAL test library...</echo>
  <preprocess indir="${itbase}" outdir="${itbase_tmpsrc}" out="replace" >
    <var name="ZimbraVersion" value="8.0.7" />
    <var name="MajorZimbraVersion"  value="8" />
    <var name="MiddleZimbraVersion" value="0" />
    <var name="MinorZimbraVersion"  value="7" />
    <filetype commentend="*/" commentbegin="/*" extensions="java"/>
  </preprocess>

  <javac includeantruntime="false" debug="true" debuglevel="lines,vars,source" srcdir="${itbase_tmpsrc}" destdir="${itbase_build}/" target="1.6" source="1.6">
    <classpath>
      <path refid="zimbra-jars-8.0.7" />
      <path refid="libraries" />
      <pathelement location="${dist}/zal.jar" />
      <pathelement location="../dist/zextras.jar" />
    </classpath>
   <compilerarg value="-Xlint:none" />
  </javac>

  <delete dir="${itbase_tmpsrc}/"/>

  <jar jarfile="${dist}/zal-itbase.jar" compress="false">
    <manifest>
      <attribute name="Specification-Title" value="Zimbra Abstraction Layer" />
      <attribute name="Specification-Version" value="1.6.0" />
      <attribute name="Specification-Vendor" value="ZeXtras" />
      <attribute name="Implementation-Version" value="8.0.7" />
      <attribute name="Created-By" value="ZeXtras" />
    </manifest>
    <fileset dir="${itbase_build}" />
  </jar>
</target>


<path id="zimbra-jars-8.0.8">
    <fileset dir="../build-commons/zimbra-jars/zimbra-jars-8.0.8/" >
        <include name="*.jar"/>
    </fileset>
</path>

<target name="zal-8.0.8"  description="create jar" depends="init">

  <var name="tmpsrc"  value="tmpsrc/8.0.8/jar/" />
  <var name="build" value="build/8.0.8/jar/" />
  <var name="dist"  value="dist/8.0.8/"/>

  <mkdir dir="${tmpsrc}"/>
  <mkdir dir="${build}"/>
  <mkdir dir="${dist}"/>

  <echo>Creating zal JAR for zimbra 8.0.8 ...</echo>

  <echo>Preprocessing...</echo>
  <preprocess indir="${src}" outdir="${tmpsrc}" out="replace" >
    <var name="ZimbraVersion" value="8.0.8" />
    <var name="MajorZimbraVersion"  value="8" />
    <var name="MiddleZimbraVersion" value="0" />
    <var name="MinorZimbraVersion"  value="8" />
    <filetype commentend="*/" commentbegin="/*" extensions="java"/>
  </preprocess>

  <javac includeantruntime="false" debug="true" debuglevel="lines,vars,source" srcdir="${tmpsrc}/" destdir="${build}/" target="1.6" source="1.6">
    <classpath>
      <path refid="zimbra-jars-8.0.8" />
      <path refid="libraries" />
      <pathelement path="${build}" />
    </classpath>
   <compilerarg value="-Xlint:none" />
  </javac>
  <delete dir="${tmpsrc}/"/>

  <jar jarfile="${dist}/zal.jar.unsigned" compress="false">
    <manifest>
      <attribute name="Specification-Title" value="Zimbra Abstraction Layer" />
      <attribute name="Specification-Version" value="1.6.0" />
      <attribute name="Specification-Vendor" value="ZeXtras" />
      <attribute name="Implementation-Version" value="8.0.8" />
      <attribute name="Created-By" value="ZeXtras" />
      <attribute name="Zimbra-Extension-Class" value="org.openzal.zal.extension.ZalEntrypoint" />
    </manifest>
    <fileset dir="${build}" />
  </jar>

  <java dir="." fork="true" classname="org.openzal.zal.tools.ChecksumWriter">
    <classpath>
      <pathelement location="${dist}/zal.jar.unsigned" />
    </classpath>
    <arg value="${dist}/zal.jar" />
  </java>

  <delete file="${dist}/zal.jar.unsigned" />
</target>


<target name="zal-8.0.8-itbase"  description="create test jar" depends="init">

  <var name="itbase_tmpsrc"  value="tmpsrc/8.0.8/itbase/" />
  <var name="itbase_build" value="build/8.0.8/itbase/" />
  <var name="dist"  value="dist/8.0.8/"/>

  <mkdir dir="${itbase_tmpsrc}"/>
  <mkdir dir="${itbase_build}"/>

  <echo>Preprocessing ZAL test library...</echo>
  <preprocess indir="${itbase}" outdir="${itbase_tmpsrc}" out="replace" >
    <var name="ZimbraVersion" value="8.0.8" />
    <var name="MajorZimbraVersion"  value="8" />
    <var name="MiddleZimbraVersion" value="0" />
    <var name="MinorZimbraVersion"  value="8" />
    <filetype commentend="*/" commentbegin="/*" extensions="java"/>
  </preprocess>

  <javac includeantruntime="false" debug="true" debuglevel="lines,vars,source" srcdir="${itbase_tmpsrc}" destdir="${itbase_build}/" target="1.6" source="1.6">
    <classpath>
      <path refid="zimbra-jars-8.0.8" />
      <path refid="libraries" />
      <pathelement location="${dist}/zal.jar" />
      <pathelement location="../dist/zextras.jar" />
    </classpath>
   <compilerarg value="-Xlint:none" />
  </javac>

  <delete dir="${itbase_tmpsrc}/"/>

  <jar jarfile="${dist}/zal-itbase.jar" compress="false">
    <manifest>
      <attribute name="Specification-Title" value="Zimbra Abstraction Layer" />
      <attribute name="Specification-Version" value="1.6.0" />
      <attribute name="Specification-Vendor" value="ZeXtras" />
      <attribute name="Implementation-Version" value="8.0.8" />
      <attribute name="Created-By" value="ZeXtras" />
    </manifest>
    <fileset dir="${itbase_build}" />
  </jar>
</target>


<path id="zimbra-jars-8.0.9">
    <fileset dir="../build-commons/zimbra-jars/zimbra-jars-8.0.9/" >
        <include name="*.jar"/>
    </fileset>
</path>

<target name="zal-8.0.9"  description="create jar" depends="init">

  <var name="tmpsrc"  value="tmpsrc/8.0.9/jar/" />
  <var name="build" value="build/8.0.9/jar/" />
  <var name="dist"  value="dist/8.0.9/"/>

  <mkdir dir="${tmpsrc}"/>
  <mkdir dir="${build}"/>
  <mkdir dir="${dist}"/>

  <echo>Creating zal JAR for zimbra 8.0.9 ...</echo>

  <echo>Preprocessing...</echo>
  <preprocess indir="${src}" outdir="${tmpsrc}" out="replace" >
    <var name="ZimbraVersion" value="8.0.9" />
    <var name="MajorZimbraVersion"  value="8" />
    <var name="MiddleZimbraVersion" value="0" />
    <var name="MinorZimbraVersion"  value="9" />
    <filetype commentend="*/" commentbegin="/*" extensions="java"/>
  </preprocess>

  <javac includeantruntime="false" debug="true" debuglevel="lines,vars,source" srcdir="${tmpsrc}/" destdir="${build}/" target="1.6" source="1.6">
    <classpath>
      <path refid="zimbra-jars-8.0.9" />
      <path refid="libraries" />
      <pathelement path="${build}" />
    </classpath>
   <compilerarg value="-Xlint:none" />
  </javac>
  <delete dir="${tmpsrc}/"/>

  <jar jarfile="${dist}/zal.jar.unsigned" compress="false">
    <manifest>
      <attribute name="Specification-Title" value="Zimbra Abstraction Layer" />
      <attribute name="Specification-Version" value="1.6.0" />
      <attribute name="Specification-Vendor" value="ZeXtras" />
      <attribute name="Implementation-Version" value="8.0.9" />
      <attribute name="Created-By" value="ZeXtras" />
      <attribute name="Zimbra-Extension-Class" value="org.openzal.zal.extension.ZalEntrypoint" />
    </manifest>
    <fileset dir="${build}" />
  </jar>

  <java dir="." fork="true" classname="org.openzal.zal.tools.ChecksumWriter">
    <classpath>
      <pathelement location="${dist}/zal.jar.unsigned" />
    </classpath>
    <arg value="${dist}/zal.jar" />
  </java>

  <delete file="${dist}/zal.jar.unsigned" />
</target>


<target name="zal-8.0.9-itbase"  description="create test jar" depends="init">

  <var name="itbase_tmpsrc"  value="tmpsrc/8.0.9/itbase/" />
  <var name="itbase_build" value="build/8.0.9/itbase/" />
  <var name="dist"  value="dist/8.0.9/"/>

  <mkdir dir="${itbase_tmpsrc}"/>
  <mkdir dir="${itbase_build}"/>

  <echo>Preprocessing ZAL test library...</echo>
  <preprocess indir="${itbase}" outdir="${itbase_tmpsrc}" out="replace" >
    <var name="ZimbraVersion" value="8.0.9" />
    <var name="MajorZimbraVersion"  value="8" />
    <var name="MiddleZimbraVersion" value="0" />
    <var name="MinorZimbraVersion"  value="9" />
    <filetype commentend="*/" commentbegin="/*" extensions="java"/>
  </preprocess>

  <javac includeantruntime="false" debug="true" debuglevel="lines,vars,source" srcdir="${itbase_tmpsrc}" destdir="${itbase_build}/" target="1.6" source="1.6">
    <classpath>
      <path refid="zimbra-jars-8.0.9" />
      <path refid="libraries" />
      <pathelement location="${dist}/zal.jar" />
      <pathelement location="../dist/zextras.jar" />
    </classpath>
   <compilerarg value="-Xlint:none" />
  </javac>

  <delete dir="${itbase_tmpsrc}/"/>

  <jar jarfile="${dist}/zal-itbase.jar" compress="false">
    <manifest>
      <attribute name="Specification-Title" value="Zimbra Abstraction Layer" />
      <attribute name="Specification-Version" value="1.6.0" />
      <attribute name="Specification-Vendor" value="ZeXtras" />
      <attribute name="Implementation-Version" value="8.0.9" />
      <attribute name="Created-By" value="ZeXtras" />
    </manifest>
    <fileset dir="${itbase_build}" />
  </jar>
</target>


<path id="zimbra-jars-8.5.0">
    <fileset dir="../build-commons/zimbra-jars/zimbra-jars-8.5.0/" >
        <include name="*.jar"/>
    </fileset>
</path>

<target name="zal-8.5.0"  description="create jar" depends="init">

  <var name="tmpsrc"  value="tmpsrc/8.5.0/jar/" />
  <var name="build" value="build/8.5.0/jar/" />
  <var name="dist"  value="dist/8.5.0/"/>

  <mkdir dir="${tmpsrc}"/>
  <mkdir dir="${build}"/>
  <mkdir dir="${dist}"/>

  <echo>Creating zal JAR for zimbra 8.5.0 ...</echo>

  <echo>Preprocessing...</echo>
  <preprocess indir="${src}" outdir="${tmpsrc}" out="replace" >
    <var name="ZimbraVersion" value="8.5.0" />
    <var name="MajorZimbraVersion"  value="8" />
    <var name="MiddleZimbraVersion" value="5" />
    <var name="MinorZimbraVersion"  value="0" />
    <filetype commentend="*/" commentbegin="/*" extensions="java"/>
  </preprocess>

  <javac includeantruntime="false" debug="true" debuglevel="lines,vars,source" srcdir="${tmpsrc}/" destdir="${build}/" target="1.6" source="1.6">
    <classpath>
      <path refid="zimbra-jars-8.5.0" />
      <path refid="libraries" />
      <pathelement path="${build}" />
    </classpath>
   <compilerarg value="-Xlint:none" />
  </javac>
  <delete dir="${tmpsrc}/"/>

  <jar jarfile="${dist}/zal.jar.unsigned" compress="false">
    <manifest>
      <attribute name="Specification-Title" value="Zimbra Abstraction Layer" />
      <attribute name="Specification-Version" value="1.6.0" />
      <attribute name="Specification-Vendor" value="ZeXtras" />
      <attribute name="Implementation-Version" value="8.5.0" />
      <attribute name="Created-By" value="ZeXtras" />
      <attribute name="Zimbra-Extension-Class" value="org.openzal.zal.extension.ZalEntrypoint" />
    </manifest>
    <fileset dir="${build}" />
  </jar>

  <java dir="." fork="true" classname="org.openzal.zal.tools.ChecksumWriter">
    <classpath>
      <pathelement location="${dist}/zal.jar.unsigned" />
    </classpath>
    <arg value="${dist}/zal.jar" />
  </java>

  <delete file="${dist}/zal.jar.unsigned" />
</target>


<target name="zal-8.5.0-itbase"  description="create test jar" depends="init">

  <var name="itbase_tmpsrc"  value="tmpsrc/8.5.0/itbase/" />
  <var name="itbase_build" value="build/8.5.0/itbase/" />
  <var name="dist"  value="dist/8.5.0/"/>

  <mkdir dir="${itbase_tmpsrc}"/>
  <mkdir dir="${itbase_build}"/>

  <echo>Preprocessing ZAL test library...</echo>
  <preprocess indir="${itbase}" outdir="${itbase_tmpsrc}" out="replace" >
    <var name="ZimbraVersion" value="8.5.0" />
    <var name="MajorZimbraVersion"  value="8" />
    <var name="MiddleZimbraVersion" value="5" />
    <var name="MinorZimbraVersion"  value="0" />
    <filetype commentend="*/" commentbegin="/*" extensions="java"/>
  </preprocess>

  <javac includeantruntime="false" debug="true" debuglevel="lines,vars,source" srcdir="${itbase_tmpsrc}" destdir="${itbase_build}/" target="1.6" source="1.6">
    <classpath>
      <path refid="zimbra-jars-8.5.0" />
      <path refid="libraries" />
      <pathelement location="${dist}/zal.jar" />
      <pathelement location="../dist/zextras.jar" />
    </classpath>
   <compilerarg value="-Xlint:none" />
  </javac>

  <delete dir="${itbase_tmpsrc}/"/>

  <jar jarfile="${dist}/zal-itbase.jar" compress="false">
    <manifest>
      <attribute name="Specification-Title" value="Zimbra Abstraction Layer" />
      <attribute name="Specification-Version" value="1.6.0" />
      <attribute name="Specification-Vendor" value="ZeXtras" />
      <attribute name="Implementation-Version" value="8.5.0" />
      <attribute name="Created-By" value="ZeXtras" />
    </manifest>
    <fileset dir="${itbase_build}" />
  </jar>
</target>


<path id="zimbra-jars-8.5.1">
    <fileset dir="../build-commons/zimbra-jars/zimbra-jars-8.5.1/" >
        <include name="*.jar"/>
    </fileset>
</path>

<target name="zal-8.5.1"  description="create jar" depends="init">

  <var name="tmpsrc"  value="tmpsrc/8.5.1/jar/" />
  <var name="build" value="build/8.5.1/jar/" />
  <var name="dist"  value="dist/8.5.1/"/>

  <mkdir dir="${tmpsrc}"/>
  <mkdir dir="${build}"/>
  <mkdir dir="${dist}"/>

  <echo>Creating zal JAR for zimbra 8.5.1 ...</echo>

  <echo>Preprocessing...</echo>
  <preprocess indir="${src}" outdir="${tmpsrc}" out="replace" >
    <var name="ZimbraVersion" value="8.5.1" />
    <var name="MajorZimbraVersion"  value="8" />
    <var name="MiddleZimbraVersion" value="5" />
    <var name="MinorZimbraVersion"  value="1" />
    <filetype commentend="*/" commentbegin="/*" extensions="java"/>
  </preprocess>

  <javac includeantruntime="false" debug="true" debuglevel="lines,vars,source" srcdir="${tmpsrc}/" destdir="${build}/" target="1.6" source="1.6">
    <classpath>
      <path refid="zimbra-jars-8.5.1" />
      <path refid="libraries" />
      <pathelement path="${build}" />
    </classpath>
   <compilerarg value="-Xlint:none" />
  </javac>
  <delete dir="${tmpsrc}/"/>

  <jar jarfile="${dist}/zal.jar.unsigned" compress="false">
    <manifest>
      <attribute name="Specification-Title" value="Zimbra Abstraction Layer" />
      <attribute name="Specification-Version" value="1.6.0" />
      <attribute name="Specification-Vendor" value="ZeXtras" />
      <attribute name="Implementation-Version" value="8.5.1" />
      <attribute name="Created-By" value="ZeXtras" />
      <attribute name="Zimbra-Extension-Class" value="org.openzal.zal.extension.ZalEntrypoint" />
    </manifest>
    <fileset dir="${build}" />
  </jar>

  <java dir="." fork="true" classname="org.openzal.zal.tools.ChecksumWriter">
    <classpath>
      <pathelement location="${dist}/zal.jar.unsigned" />
    </classpath>
    <arg value="${dist}/zal.jar" />
  </java>

  <delete file="${dist}/zal.jar.unsigned" />
</target>


<target name="zal-8.5.1-itbase"  description="create test jar" depends="init">

  <var name="itbase_tmpsrc"  value="tmpsrc/8.5.1/itbase/" />
  <var name="itbase_build" value="build/8.5.1/itbase/" />
  <var name="dist"  value="dist/8.5.1/"/>

  <mkdir dir="${itbase_tmpsrc}"/>
  <mkdir dir="${itbase_build}"/>

  <echo>Preprocessing ZAL test library...</echo>
  <preprocess indir="${itbase}" outdir="${itbase_tmpsrc}" out="replace" >
    <var name="ZimbraVersion" value="8.5.1" />
    <var name="MajorZimbraVersion"  value="8" />
    <var name="MiddleZimbraVersion" value="5" />
    <var name="MinorZimbraVersion"  value="1" />
    <filetype commentend="*/" commentbegin="/*" extensions="java"/>
  </preprocess>

  <javac includeantruntime="false" debug="true" debuglevel="lines,vars,source" srcdir="${itbase_tmpsrc}" destdir="${itbase_build}/" target="1.6" source="1.6">
    <classpath>
      <path refid="zimbra-jars-8.5.1" />
      <path refid="libraries" />
      <pathelement location="${dist}/zal.jar" />
      <pathelement location="../dist/zextras.jar" />
    </classpath>
   <compilerarg value="-Xlint:none" />
  </javac>

  <delete dir="${itbase_tmpsrc}/"/>

  <jar jarfile="${dist}/zal-itbase.jar" compress="false">
    <manifest>
      <attribute name="Specification-Title" value="Zimbra Abstraction Layer" />
      <attribute name="Specification-Version" value="1.6.0" />
      <attribute name="Specification-Vendor" value="ZeXtras" />
      <attribute name="Implementation-Version" value="8.5.1" />
      <attribute name="Created-By" value="ZeXtras" />
    </manifest>
    <fileset dir="${itbase_build}" />
  </jar>
</target>


<path id="zimbra-jars-8.6.0">
    <fileset dir="../build-commons/zimbra-jars/zimbra-jars-8.6.0/" >
        <include name="*.jar"/>
    </fileset>
</path>

<target name="zal-8.6.0"  description="create jar" depends="init">

  <var name="tmpsrc"  value="tmpsrc/8.6.0/jar/" />
  <var name="build" value="build/8.6.0/jar/" />
  <var name="dist"  value="dist/8.6.0/"/>

  <mkdir dir="${tmpsrc}"/>
  <mkdir dir="${build}"/>
  <mkdir dir="${dist}"/>

  <echo>Creating zal JAR for zimbra 8.6.0 ...</echo>

  <echo>Preprocessing...</echo>
  <preprocess indir="${src}" outdir="${tmpsrc}" out="replace" >
    <var name="ZimbraVersion" value="8.6.0" />
    <var name="MajorZimbraVersion"  value="8" />
    <var name="MiddleZimbraVersion" value="6" />
    <var name="MinorZimbraVersion"  value="0" />
    <filetype commentend="*/" commentbegin="/*" extensions="java"/>
  </preprocess>

  <javac includeantruntime="false" debug="true" debuglevel="lines,vars,source" srcdir="${tmpsrc}/" destdir="${build}/" target="1.6" source="1.6">
    <classpath>
      <path refid="zimbra-jars-8.6.0" />
      <path refid="libraries" />
      <pathelement path="${build}" />
    </classpath>
   <compilerarg value="-Xlint:none" />
  </javac>
  <delete dir="${tmpsrc}/"/>

  <jar jarfile="${dist}/zal.jar.unsigned" compress="false">
    <manifest>
      <attribute name="Specification-Title" value="Zimbra Abstraction Layer" />
      <attribute name="Specification-Version" value="1.6.0" />
      <attribute name="Specification-Vendor" value="ZeXtras" />
      <attribute name="Implementation-Version" value="8.6.0" />
      <attribute name="Created-By" value="ZeXtras" />
      <attribute name="Zimbra-Extension-Class" value="org.openzal.zal.extension.ZalEntrypoint" />
    </manifest>
    <fileset dir="${build}" />
  </jar>

  <java dir="." fork="true" classname="org.openzal.zal.tools.ChecksumWriter">
    <classpath>
      <pathelement location="${dist}/zal.jar.unsigned" />
    </classpath>
    <arg value="${dist}/zal.jar" />
  </java>

  <delete file="${dist}/zal.jar.unsigned" />
</target>


<target name="zal-8.6.0-itbase"  description="create test jar" depends="init">

  <var name="itbase_tmpsrc"  value="tmpsrc/8.6.0/itbase/" />
  <var name="itbase_build" value="build/8.6.0/itbase/" />
  <var name="dist"  value="dist/8.6.0/"/>

  <mkdir dir="${itbase_tmpsrc}"/>
  <mkdir dir="${itbase_build}"/>

  <echo>Preprocessing ZAL test library...</echo>
  <preprocess indir="${itbase}" outdir="${itbase_tmpsrc}" out="replace" >
    <var name="ZimbraVersion" value="8.6.0" />
    <var name="MajorZimbraVersion"  value="8" />
    <var name="MiddleZimbraVersion" value="6" />
    <var name="MinorZimbraVersion"  value="0" />
    <filetype commentend="*/" commentbegin="/*" extensions="java"/>
  </preprocess>

  <javac includeantruntime="false" debug="true" debuglevel="lines,vars,source" srcdir="${itbase_tmpsrc}" destdir="${itbase_build}/" target="1.6" source="1.6">
    <classpath>
      <path refid="zimbra-jars-8.6.0" />
      <path refid="libraries" />
      <pathelement location="${dist}/zal.jar" />
      <pathelement location="../dist/zextras.jar" />
    </classpath>
   <compilerarg value="-Xlint:none" />
  </javac>

  <delete dir="${itbase_tmpsrc}/"/>

  <jar jarfile="${dist}/zal-itbase.jar" compress="false">
    <manifest>
      <attribute name="Specification-Title" value="Zimbra Abstraction Layer" />
      <attribute name="Specification-Version" value="1.6.0" />
      <attribute name="Specification-Vendor" value="ZeXtras" />
      <attribute name="Implementation-Version" value="8.6.0" />
      <attribute name="Created-By" value="ZeXtras" />
    </manifest>
    <fileset dir="${itbase_build}" />
  </jar>
</target>


  <target name="zal-common" depends="zal-6.0.7,zal-6.0.16,zal-7.0.0,zal-7.2.7,zal-8.0.0,zal-8.0.9,zal-8.6.0" />
  <target name="zal-all" depends="zal-6.0.7,zal-6.0.8,zal-6.0.9,zal-6.0.10,zal-6.0.12,zal-6.0.13,zal-6.0.14,zal-6.0.15,zal-6.0.16,zal-7.0.0,zal-7.0.1,zal-7.1.0,zal-7.1.1,zal-7.1.2,zal-7.1.3,zal-7.1.4,zal-7.2.0,zal-7.2.1,zal-7.2.2,zal-7.2.3,zal-7.2.4,zal-7.2.5,zal-7.2.6,zal-7.2.7,zal-8.0.0,zal-8.0.1,zal-8.0.2,zal-8.0.3,zal-8.0.4,zal-8.0.5,zal-8.0.6,zal-8.0.7,zal-8.0.8,zal-8.0.9,zal-8.5.0,zal-8.5.1,zal-8.6.0" />

  <target name="clean" description="clean up" >
    <delete includeemptydirs="true">
      <fileset dir="dist/" includes="**/*" />
      <fileset dir="build/" includes="**/*" />
      <fileset dir="tmpsrc/" includes="**/*" />
    </delete>
  </target>

  <target name="doxygen" description="create doxygen documentation" >
    <exec executable="doxygen" />
  </target>

  <target name="fast-compatibility-check" description="check compatibility of zal jars">

    <if>
      <equals arg1="0" arg2="0" />
      <then>
        <var name="lastZalPath" value="" />
      </then>
      <else>
        <var name="lastZalPath" value="bin/previous-zal-version.jar" />
      </else>
    </if>

    <for list="6.0.16,7.2.7,8.0.8,8.5.0,8.6.0" param="currentZimbraVersion">
      <sequential>
        <if>
          <equals arg1="${lastZalPath}" arg2="" />
          <else>
            <exec failonerror="true" executable="../build-commons/japi-compliance-checker/japi-compliance-checker.pl">
              <arg value="-l"/>
              <arg value="OpenZal"/>
              <arg value="${lastZalPath}"/>
              <arg value="dist/@{currentZimbraVersion}/zal.jar"/>
            </exec>
          </else>
        </if>
        <var name="lastZalPath" value="dist/@{currentZimbraVersion}/zal.jar" />
      </sequential>
    </for>

    <exec failonerror="true" executable="../build-commons/japi-compliance-checker/japi-compliance-checker.pl">
      <arg value="-l"/>
      <arg value="OpenZal"/>
      <arg value="dist/8.6.0/zal.jar"/>
      <arg value="dist/6.0.7/zal.jar"/>
    </exec>
  </target>

  <target name="compatibility-check" description="check compatibility of zal jars">

    <if>
      <equals arg1="0" arg2="0" />
      <then>
        <var name="lastZalPath" value="" />
      </then>
      <else>
        <var name="lastZalPath" value="bin/previous-zal-version.jar" />
      </else>
    </if>

    <for list="6.0.7,6.0.8,6.0.9,6.0.10,6.0.12,6.0.13,6.0.14,6.0.15,6.0.16,7.0.0,7.0.1,7.1.0,7.1.1,7.1.2,7.1.3,7.1.4,7.2.0,7.2.1,7.2.2,7.2.3,7.2.4,7.2.5,7.2.6,7.2.7,8.0.0,8.0.1,8.0.2,8.0.3,8.0.4,8.0.5,8.0.6,8.0.7,8.0.8,8.0.9,8.5.0,8.5.1,8.6.0" param="currentZimbraVersion">
      <sequential>
        <if>
          <equals arg1="${lastZalPath}" arg2="" />
          <else>
            <exec failonerror="true" executable="../build-commons/japi-compliance-checker/japi-compliance-checker.pl">
              <arg value="-l"/>
              <arg value="OpenZal"/>
              <arg value="${lastZalPath}"/>
              <arg value="dist/@{currentZimbraVersion}/zal.jar"/>
            </exec>
          </else>
        </if>
        <var name="lastZalPath" value="dist/@{currentZimbraVersion}/zal.jar" />
      </sequential>
    </for>

    <exec failonerror="true" executable="../build-commons/japi-compliance-checker/japi-compliance-checker.pl">
      <arg value="-l"/>
      <arg value="OpenZal"/>
      <arg value="dist/8.6.0/zal.jar"/>
      <arg value="dist/6.0.7/zal.jar"/>
    </exec>
  </target>

  <target name="help">
    <echo>commands availables are:
      zal-all
      zal-common
      zal-{zimbra-version}
      compatibility-check
      fast-compatibility-check
      clean
      doxygen
      help
    </echo>
  </target>

</project>
